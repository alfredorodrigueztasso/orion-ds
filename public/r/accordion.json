{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "accordion",
  "type": "registry:component",
  "title": "Accordion",
  "description": "Accordion component",
  "category": "layout",
  "files": [
    {
      "path": "packages/react/src/components/Accordion/Accordion.tsx",
      "type": "registry:component",
      "content": "/**\n * Accordion Component\n *\n * A collapsible content panel for displaying information in a compact way.\n *\n * @example\n * ```tsx\n * <Accordion\n *   items={[\n *     { id: '1', title: 'What is Orion?', content: 'A design system...' },\n *     { id: '2', title: 'How do I install?', content: 'Run npm install...' },\n *   ]}\n * />\n * ```\n */\n\nimport { forwardRef, useState, useCallback, useId } from 'react';\nimport { ChevronDown } from 'lucide-react';\nimport type { AccordionProps, AccordionItemProps } from './Accordion.types';\nimport styles from './Accordion.module.css';\n\n/**\n * Individual accordion item component\n */\nconst AccordionItemComponent = ({\n  item,\n  isExpanded,\n  onToggle,\n  variant,\n  animated,\n}: AccordionItemProps) => {\n  const contentId = useId();\n  const headerId = useId();\n\n  const itemClasses = [\n    styles.item,\n    styles[variant],\n    isExpanded && styles.expanded,\n    item.disabled && styles.disabled,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const contentClasses = [\n    styles.content,\n    animated && styles.animated,\n    isExpanded && styles.contentExpanded,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={itemClasses}>\n      <button\n        id={headerId}\n        type=\"button\"\n        className={styles.header}\n        onClick={onToggle}\n        disabled={item.disabled}\n        aria-expanded={isExpanded}\n        aria-controls={contentId}\n      >\n        {item.icon && (\n          <span className={styles.icon} aria-hidden=\"true\">\n            {item.icon}\n          </span>\n        )}\n        <span className={styles.title}>{item.title}</span>\n        <span\n          className={`${styles.chevron} ${isExpanded ? styles.chevronExpanded : ''}`}\n          aria-hidden=\"true\"\n        >\n          <ChevronDown size={20} />\n        </span>\n      </button>\n      <div\n        id={contentId}\n        role=\"region\"\n        aria-labelledby={headerId}\n        className={contentClasses}\n        hidden={!isExpanded}\n      >\n        <div className={styles.contentInner}>{item.content}</div>\n      </div>\n    </div>\n  );\n};\n\nexport const Accordion = forwardRef<HTMLDivElement, AccordionProps>(\n  (\n    {\n      items,\n      variant = 'default',\n      allowMultiple = false,\n      defaultExpanded = [],\n      expanded: controlledExpanded,\n      onChange,\n      animated = true,\n      className,\n      ...rest\n    },\n    ref,\n  ) => {\n    // Internal state for uncontrolled mode\n    const [internalExpanded, setInternalExpanded] = useState<string[]>(defaultExpanded);\n\n    // Determine if controlled or uncontrolled\n    const isControlled = controlledExpanded !== undefined;\n    const expandedIds = isControlled ? controlledExpanded : internalExpanded;\n\n    const handleToggle = useCallback(\n      (itemId: string) => {\n        let newExpanded: string[];\n\n        if (expandedIds.includes(itemId)) {\n          // Collapse the item\n          newExpanded = expandedIds.filter((id) => id !== itemId);\n        } else if (allowMultiple) {\n          // Expand (multiple allowed)\n          newExpanded = [...expandedIds, itemId];\n        } else {\n          // Expand (single only)\n          newExpanded = [itemId];\n        }\n\n        if (!isControlled) {\n          setInternalExpanded(newExpanded);\n        }\n\n        onChange?.(newExpanded);\n      },\n      [expandedIds, allowMultiple, isControlled, onChange],\n    );\n\n    const containerClasses = [styles.accordion, styles[variant], className]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <div ref={ref} className={containerClasses} {...rest}>\n        {items.map((item) => (\n          <AccordionItemComponent\n            key={item.id}\n            item={item}\n            isExpanded={expandedIds.includes(item.id)}\n            onToggle={() => handleToggle(item.id)}\n            variant={variant}\n            animated={animated}\n          />\n        ))}\n      </div>\n    );\n  },\n);\n\nAccordion.displayName = 'Accordion';\n"
    },
    {
      "path": "packages/react/src/components/Accordion/Accordion.types.ts",
      "type": "registry:types",
      "content": "/**\n * Accordion Component Types\n *\n * Type definitions for the Orion Accordion component.\n */\n\nimport type { HTMLAttributes, ReactNode } from 'react';\n\n/**\n * Accordion visual variants\n */\nexport type AccordionVariant = 'default' | 'bordered' | 'separated';\n\n/**\n * Single accordion item data\n */\nexport interface AccordionItem {\n  /**\n   * Unique identifier for the item\n   */\n  id: string;\n\n  /**\n   * Title/header of the accordion item\n   */\n  title: ReactNode;\n\n  /**\n   * Content shown when expanded\n   */\n  content: ReactNode;\n\n  /**\n   * Whether the item is disabled\n   */\n  disabled?: boolean;\n\n  /**\n   * Optional icon to display before the title\n   */\n  icon?: ReactNode;\n}\n\n/**\n * Accordion component props\n *\n * @example\n * ```tsx\n * <Accordion\n *   items={[\n *     { id: '1', title: 'Section 1', content: 'Content 1' },\n *     { id: '2', title: 'Section 2', content: 'Content 2' },\n *   ]}\n * />\n * ```\n */\nexport interface AccordionProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /**\n   * Array of accordion items\n   */\n  items: AccordionItem[];\n\n  /**\n   * Visual variant of the accordion\n   * @default 'default'\n   */\n  variant?: AccordionVariant;\n\n  /**\n   * Allow multiple items to be expanded at once\n   * @default false\n   */\n  allowMultiple?: boolean;\n\n  /**\n   * Default expanded item IDs (uncontrolled)\n   */\n  defaultExpanded?: string[];\n\n  /**\n   * Controlled expanded item IDs\n   */\n  expanded?: string[];\n\n  /**\n   * Callback when expansion state changes\n   */\n  onChange?: (expandedIds: string[]) => void;\n\n  /**\n   * Whether to animate the expand/collapse\n   * @default true\n   */\n  animated?: boolean;\n}\n\n/**\n * AccordionItem component props (internal)\n */\nexport interface AccordionItemProps {\n  item: AccordionItem;\n  isExpanded: boolean;\n  onToggle: () => void;\n  variant: AccordionVariant;\n  animated: boolean;\n}\n"
    },
    {
      "path": "packages/react/src/components/Accordion/Accordion.module.css",
      "type": "registry:styles",
      "content": "/**\n * Accordion Component Styles\n *\n * Uses CSS Modules for scoped styling.\n * All values reference semantic tokens via CSS variables.\n */\n\n/* Container */\n.accordion {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n/* ============================================================================\n * VARIANTS\n * ============================================================================ */\n\n/* Default variant - minimal styling */\n.accordion.default {\n  gap: 0;\n}\n\n.accordion.default .item {\n  border-bottom: 1px solid var(--border-subtle);\n\n  &:last-child {\n    border-bottom: none;\n  }\n}\n\n/* Bordered variant - with outer border */\n.accordion.bordered {\n  border: 1px solid var(--border-subtle);\n  border-radius: var(--radius-control);\n  gap: 0;\n  overflow: hidden; /* Ensures child backgrounds respect container radius */\n}\n\n.accordion.bordered .item {\n  border-bottom: 1px solid var(--border-subtle);\n\n  &:first-child .header {\n    border-top-left-radius: calc(var(--radius-control) - 1px);\n    border-top-right-radius: calc(var(--radius-control) - 1px);\n  }\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  &:last-child .header {\n    border-bottom-left-radius: calc(var(--radius-control) - 1px);\n    border-bottom-right-radius: calc(var(--radius-control) - 1px);\n  }\n\n  &:last-child.expanded .header {\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &:last-child .contentInner {\n    border-bottom-left-radius: calc(var(--radius-control) - 1px);\n    border-bottom-right-radius: calc(var(--radius-control) - 1px);\n  }\n}\n\n/* Separated variant - items with gaps */\n.accordion.separated {\n  gap: var(--spacing-2);\n}\n\n.accordion.separated .item {\n  border: 1px solid var(--border-subtle);\n  border-radius: var(--radius-control);\n  overflow: hidden; /* Ensures child backgrounds respect item radius */\n}\n\n/* ============================================================================\n * ITEM\n * ============================================================================ */\n\n.item {\n  background: var(--surface-base);\n}\n\n.item.expanded {\n  background: var(--surface-subtle);\n}\n\n.item.disabled {\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n/* ============================================================================\n * HEADER\n * ============================================================================ */\n\n.header {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: var(--spacing-4);\n  gap: var(--spacing-3);\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  text-align: left;\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-16);\n  font-weight: var(--font-weight-medium);\n  color: var(--text-primary);\n  transition: background-color var(--transition-fast);\n\n  &:hover:not(:disabled) {\n    background: var(--surface-subtle);\n  }\n\n  &:focus-visible {\n    outline: 2px solid var(--interactive-primary);\n    outline-offset: -2px;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n}\n\n.icon {\n  width: var(--spacing-5);\n  height: var(--spacing-5);\n  flex-shrink: 0;\n  color: var(--text-secondary);\n}\n\n.title {\n  flex: 1;\n}\n\n.chevron {\n  width: var(--spacing-5);\n  height: var(--spacing-5);\n  flex-shrink: 0;\n  color: var(--text-tertiary);\n  transition: transform var(--transition-fast);\n}\n\n.chevronExpanded {\n  transform: rotate(180deg);\n}\n\n/* ============================================================================\n * CONTENT\n * ============================================================================ */\n\n.content {\n  overflow: hidden;\n}\n\n.content.animated {\n  transition:\n    max-height var(--transition-normal),\n    opacity var(--transition-normal);\n}\n\n.content[hidden] {\n  display: none;\n}\n\n.contentExpanded {\n  display: block;\n}\n\n.contentInner {\n  padding: 0 var(--spacing-4) var(--spacing-4) var(--spacing-4);\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-14);\n  color: var(--text-secondary);\n  line-height: var(--line-height-relaxed);\n}\n\n/* ============================================================================\n * REDUCED MOTION\n * ============================================================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .chevron,\n  .content.animated {\n    transition: none;\n  }\n}\n"
    },
    {
      "path": "packages/react/src/components/Accordion/index.ts",
      "type": "registry:index",
      "content": "/**\n * Accordion Component - Collapsible content sections.\n *\n * @example\n * ```tsx\n * import { Accordion } from '@orion-ds/react';\n *\n * <Accordion\n *   items={[\n *     { id: '1', title: 'Section 1', content: <p>Content for section 1</p> },\n *     { id: '2', title: 'Section 2', content: <p>Content for section 2</p> },\n *     { id: '3', title: 'Section 3', content: <p>Content for section 3</p> },\n *   ]}\n *   variant=\"bordered\"\n *   allowMultiple\n * />\n * ```\n */\nexport { Accordion } from './Accordion';\nexport type {\n  AccordionProps,\n  AccordionItem,\n  AccordionVariant,\n  AccordionItemProps,\n} from './Accordion.types';\n"
    }
  ],
  "props": [
    {
      "name": "items",
      "type": "AccordionItem[]",
      "description": "Array of accordion items",
      "required": true
    },
    {
      "name": "variant",
      "type": "AccordionVariant",
      "description": "Visual variant of the accordion",
      "default": "default",
      "values": [
        "default",
        "bordered",
        "separated"
      ]
    },
    {
      "name": "allowMultiple",
      "type": "boolean",
      "description": "Allow multiple items to be expanded at once",
      "default": false
    },
    {
      "name": "defaultExpanded",
      "type": "string[]",
      "description": "Default expanded item IDs (uncontrolled)"
    },
    {
      "name": "expanded",
      "type": "string[]",
      "description": "Controlled expanded item IDs"
    },
    {
      "name": "onChange",
      "type": "(expandedIds: string[]) => void",
      "description": "Callback when expansion state changes"
    },
    {
      "name": "animated",
      "type": "boolean",
      "description": "Whether to animate the expand/collapse",
      "default": true
    }
  ],
  "tokens": [
    "--surface-base",
    "--border-subtle",
    "--text-primary"
  ],
  "examples": [
    {
      "title": "Basic accordion",
      "code": "<Accordion\n  items={[\n    { id: '1', title: 'Section 1', content: 'Content 1' },\n    { id: '2', title: 'Section 2', content: 'Content 2' },\n  ]}\n/>"
    }
  ],
  "accessibility": {
    "ariaAttributes": [
      "aria-expanded",
      "aria-controls"
    ],
    "keyboardNav": [
      {
        "key": "Enter/Space",
        "action": "Toggle section"
      },
      {
        "key": "ArrowUp/Down",
        "action": "Navigate sections"
      }
    ]
  },
  "modeAware": false,
  "preview": {
    "url": "https://orion-ds.dev/library.html#accordion",
    "local": "/library.html#accordion"
  },
  "import": "import { Accordion } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
