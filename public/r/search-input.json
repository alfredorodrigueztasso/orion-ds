{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "search-input",
  "type": "registry:component",
  "title": "SearchInput",
  "description": "SearchInput component",
  "category": "search",
  "files": [
    {
      "path": "packages/react/src/components/SearchInput/SearchInput.tsx",
      "type": "registry:component",
      "content": "/**\n * SearchInput Component\n *\n * An input field optimized for search with icon and clear button.\n *\n * @example\n * ```tsx\n * <SearchInput\n *   placeholder=\"Search...\"\n *   value={query}\n *   onChange={(e) => setQuery(e.target.value)}\n *   onClear={() => setQuery('')}\n * />\n * ```\n */\n\nimport { forwardRef, useCallback } from 'react';\nimport { Search, X, Loader2 } from 'lucide-react';\nimport type { SearchInputProps } from './SearchInput.types';\nimport styles from './SearchInput.module.css';\n\nexport const SearchInput = forwardRef<HTMLInputElement, SearchInputProps>(\n  (\n    {\n      size = 'md',\n      value,\n      onClear,\n      onSearch,\n      showClear = true,\n      showSearchButton = false,\n      searchIcon,\n      clearLabel = 'Clear search',\n      searchLabel = 'Search',\n      loading = false,\n      fullWidth = false,\n      disabled = false,\n      className,\n      onKeyDown,\n      ...rest\n    },\n    ref,\n  ) => {\n    const hasValue = value !== undefined && value !== '';\n\n    const handleKeyDown = useCallback(\n      (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === 'Enter' && onSearch) {\n          onSearch(e.currentTarget.value);\n        }\n        onKeyDown?.(e);\n      },\n      [onSearch, onKeyDown],\n    );\n\n    const handleClear = useCallback(() => {\n      onClear?.();\n    }, [onClear]);\n\n    const handleSearchClick = useCallback(() => {\n      if (onSearch && typeof value === 'string') {\n        onSearch(value);\n      }\n    }, [onSearch, value]);\n\n    const containerClasses = [\n      styles.container,\n      styles[size],\n      fullWidth && styles.fullWidth,\n      loading && styles.loading,\n      disabled && styles.disabled,\n      className,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    // Size-specific class for input padding (CSS Modules requires flat classes)\n    const sizeClassMap = { sm: 'Sm', md: 'Md', lg: 'Lg' } as const;\n    const sizeKey = sizeClassMap[size];\n\n    const inputClasses = [styles.input, styles[`input${sizeKey}`]].join(' ');\n\n    const searchIconClasses = [styles.searchIcon, styles[`searchIcon${sizeKey}`]].join(' ');\n\n    const iconSize = size === 'sm' ? 16 : size === 'lg' ? 22 : 18;\n\n    return (\n      <div className={containerClasses}>\n        <span className={searchIconClasses} aria-hidden=\"true\">\n          {loading ? (\n            <Loader2 size={iconSize} className={styles.spinner} />\n          ) : (\n            searchIcon || <Search size={iconSize} />\n          )}\n        </span>\n\n        <input\n          ref={ref}\n          type=\"search\"\n          className={inputClasses}\n          value={value}\n          disabled={disabled}\n          onKeyDown={handleKeyDown}\n          {...rest}\n        />\n\n        {showClear && hasValue && !loading && (\n          <button\n            type=\"button\"\n            className={styles.clearButton}\n            onClick={handleClear}\n            aria-label={clearLabel}\n          >\n            <X size={iconSize - 2} />\n          </button>\n        )}\n\n        {showSearchButton && (\n          <button\n            type=\"button\"\n            className={styles.searchButton}\n            onClick={handleSearchClick}\n            aria-label={searchLabel}\n            disabled={loading}\n          >\n            <Search size={iconSize} />\n          </button>\n        )}\n      </div>\n    );\n  },\n);\n\nSearchInput.displayName = 'SearchInput';\n"
    },
    {
      "path": "packages/react/src/components/SearchInput/SearchInput.types.ts",
      "type": "registry:types",
      "content": "/**\n * SearchInput Component Types\n *\n * Type definitions for the Orion SearchInput component.\n */\n\nimport type { InputHTMLAttributes, ReactNode } from 'react';\n\n/**\n * SearchInput size variants\n */\nexport type SearchInputSize = 'sm' | 'md' | 'lg';\n\n/**\n * SearchInput component props\n *\n * @example\n * ```tsx\n * <SearchInput\n *   placeholder=\"Search...\"\n *   value={query}\n *   onChange={(e) => setQuery(e.target.value)}\n *   onClear={() => setQuery('')}\n * />\n * ```\n */\nexport interface SearchInputProps extends Omit<\n  InputHTMLAttributes<HTMLInputElement>,\n  'size' | 'type'\n> {\n  /**\n   * Size variant\n   * @default 'md'\n   */\n  size?: SearchInputSize;\n\n  /**\n   * Callback when the clear button is clicked\n   */\n  onClear?: () => void;\n\n  /**\n   * Callback when search is triggered (Enter key or search button)\n   */\n  onSearch?: (value: string) => void;\n\n  /**\n   * Whether to show the clear button when there's a value\n   * @default true\n   */\n  showClear?: boolean;\n\n  /**\n   * Whether to show a search button\n   * @default false\n   */\n  showSearchButton?: boolean;\n\n  /**\n   * Custom search icon\n   */\n  searchIcon?: ReactNode;\n\n  /**\n   * Label for the clear button (accessibility)\n   * @default 'Clear search'\n   */\n  clearLabel?: string;\n\n  /**\n   * Label for the search button (accessibility)\n   * @default 'Search'\n   */\n  searchLabel?: string;\n\n  /**\n   * Whether the input is in a loading state\n   * @default false\n   */\n  loading?: boolean;\n\n  /**\n   * Make the input take full width\n   * @default false\n   */\n  fullWidth?: boolean;\n}\n"
    },
    {
      "path": "packages/react/src/components/SearchInput/SearchInput.module.css",
      "type": "registry:styles",
      "content": "/**\n * SearchInput Component Styles\n *\n * Search input with icon, clear button, and optional search button.\n * Implements WCAG 2.1 AA accessibility guidelines.\n * Aligned with Field component styles.\n */\n\n.container {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  background: var(--surface-base);\n  border: 1px solid var(--border-subtle);\n  border-radius: var(--radius-control);\n  transition: all var(--transition-fast);\n}\n\n/* Hover state */\n.container:hover:not(.disabled) {\n  border-color: var(--border-strong);\n}\n\n/* Focus state - visible for all focus methods */\n.container:focus-within {\n  border-color: var(--interactive-primary);\n  box-shadow: 0 0 0 3px var(--soft-brand);\n}\n\n/* Focus-visible - enhanced for keyboard navigation */\n.container:has(.input:focus-visible) {\n  border-color: var(--interactive-primary);\n  box-shadow: 0 0 0 3px var(--soft-brand);\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: 2px;\n}\n\n.fullWidth {\n  width: 100%;\n}\n\n/* Size variants - container */\n.sm {\n  height: 32px;\n  font-size: var(--font-size-sm);\n}\n\n.md {\n  height: 40px;\n  font-size: var(--font-size-base);\n}\n\n.lg {\n  height: 48px;\n  font-size: var(--font-size-lg);\n}\n\n/* Size variants - input padding (flat classes for CSS Modules) */\n.inputSm {\n  padding: var(--spacing-1) var(--spacing-8) var(--spacing-1) var(--spacing-8);\n}\n\n.inputMd {\n  padding: var(--spacing-2) var(--spacing-10) var(--spacing-2) var(--spacing-10);\n}\n\n.inputLg {\n  padding: var(--spacing-3) var(--spacing-12) var(--spacing-3) var(--spacing-12);\n}\n\n/* Search icon - base */\n.searchIcon {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-tertiary);\n  pointer-events: none;\n}\n\n/* Search icon - size variants (flat classes for CSS Modules) */\n.searchIconSm {\n  left: var(--spacing-2);\n}\n\n.searchIconMd {\n  left: var(--spacing-3);\n}\n\n.searchIconLg {\n  left: var(--spacing-4);\n}\n\n/* Input */\n.input {\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  border: none;\n  border-radius: inherit;\n  font-family: var(--font-secondary);\n  font-size: inherit;\n  color: var(--text-primary);\n  outline: none;\n}\n\n.input::placeholder {\n  color: var(--text-tertiary);\n}\n\n/* Hide browser clear button */\n.input::-webkit-search-cancel-button,\n.input::-webkit-search-decoration {\n  display: none;\n  appearance: none;\n}\n\n/* Clear button */\n.clearButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-1);\n  margin-right: var(--spacing-1);\n  background: transparent;\n  border: none;\n  border-radius: var(--radius-sm);\n  color: var(--text-tertiary);\n  cursor: pointer;\n  transition:\n    color var(--duration-fast) var(--ease-out),\n    background-color var(--duration-fast) var(--ease-out);\n}\n\n.clearButton:hover {\n  color: var(--text-primary);\n  background: var(--surface-subtle);\n}\n\n.clearButton:focus-visible {\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: 1px;\n}\n\n/* Search button */\n.searchButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-2);\n  margin-right: var(--spacing-1);\n  background: var(--interactive-primary);\n  border: none;\n  border-radius: var(--radius-sm);\n  color: var(--interactive-primary-text);\n  cursor: pointer;\n  transition: background-color var(--duration-fast) var(--ease-out);\n}\n\n.searchButton:hover:not(:disabled) {\n  background: var(--interactive-primary-hover);\n}\n\n.searchButton:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.searchButton:focus-visible {\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: 2px;\n}\n\n/* Disabled state */\n.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: var(--surface-subtle);\n}\n\n.disabled .input {\n  cursor: not-allowed;\n}\n\n/* Loading state */\n.loading .searchIcon {\n  color: var(--interactive-primary);\n}\n\n.spinner {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* ============================================================================\n * HIGH CONTRAST MODE SUPPORT\n * ============================================================================ */\n\n@media (forced-colors: active) {\n  .container {\n    border: 2px solid CanvasText;\n    background: Canvas;\n  }\n\n  .container:focus-within,\n  .container:has(.input:focus-visible) {\n    outline: 3px solid Highlight;\n    outline-offset: 2px;\n  }\n\n  .disabled {\n    border-color: GrayText;\n  }\n\n  .input {\n    color: CanvasText;\n  }\n\n  .searchIcon,\n  .clearButton {\n    color: CanvasText;\n  }\n\n  .searchButton {\n    background: Highlight;\n    color: HighlightText;\n  }\n}\n\n/* ============================================================================\n * REDUCED MOTION\n * ============================================================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .container {\n    transition: none;\n  }\n\n  .clearButton,\n  .searchButton {\n    transition: none;\n  }\n\n  .spinner {\n    animation: none;\n  }\n}\n"
    },
    {
      "path": "packages/react/src/components/SearchInput/index.ts",
      "type": "registry:index",
      "content": "/**\n * SearchInput Component - Search field with icon.\n *\n * @example\n * ```tsx\n * import { SearchInput } from '@orion-ds/react';\n *\n * <SearchInput placeholder=\"Search...\" onSearch={(query) => handleSearch(query)} />\n * <SearchInput placeholder=\"Find users\" size=\"sm\" />\n * <SearchInput placeholder=\"Search products\" loading />\n * ```\n */\nexport { SearchInput } from './SearchInput';\nexport type { SearchInputProps, SearchInputSize } from './SearchInput.types';\n"
    }
  ],
  "props": [
    {
      "name": "size",
      "type": "SearchInputSize",
      "description": "Size variant",
      "default": "md",
      "values": [
        "sm",
        "md",
        "lg"
      ]
    },
    {
      "name": "onClear",
      "type": "() => void",
      "description": "Callback when the clear button is clicked"
    },
    {
      "name": "onSearch",
      "type": "(value: string) => void",
      "description": "Callback when search is triggered (Enter key or search button)"
    },
    {
      "name": "showClear",
      "type": "boolean",
      "description": "Whether to show the clear button when there's a value",
      "default": true
    },
    {
      "name": "showSearchButton",
      "type": "boolean",
      "description": "Whether to show a search button",
      "default": false
    },
    {
      "name": "searchIcon",
      "type": "ReactNode",
      "description": "Custom search icon"
    },
    {
      "name": "clearLabel",
      "type": "string",
      "description": "Label for the clear button (accessibility)",
      "default": "Clear search"
    },
    {
      "name": "searchLabel",
      "type": "string",
      "description": "Label for the search button (accessibility)",
      "default": "Search"
    },
    {
      "name": "loading",
      "type": "boolean",
      "description": "Whether the input is in a loading state",
      "default": false
    },
    {
      "name": "fullWidth",
      "type": "boolean",
      "description": "Make the input take full width",
      "default": false
    }
  ],
  "tokens": [
    "--surface-base",
    "--border-subtle",
    "--text-primary",
    "--radius-control"
  ],
  "examples": [
    {
      "title": "Basic search",
      "code": "<SearchInput\n  placeholder=\"Search...\"\n  onSearch={(query) => handleSearch(query)}\n/>"
    }
  ],
  "modeAware": true,
  "preview": {
    "url": "https://orion-ds.dev/library.html#search-input",
    "local": "/library.html#search-input"
  },
  "import": "import { SearchInput } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
