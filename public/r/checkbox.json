{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "checkbox",
  "type": "registry:component",
  "title": "Checkbox",
  "description": "Checkbox input for multiple selections",
  "category": "forms",
  "files": [
    {
      "path": "packages/react/src/components/Checkbox/Checkbox.tsx",
      "type": "registry:component",
      "content": "/**\n * Checkbox Component\n *\n * Multi-select checkbox input with label and validation.\n * Implements WCAG 2.1 AA accessibility guidelines.\n *\n * @example\n * ```tsx\n * <Checkbox label=\"Accept terms and conditions\" />\n *\n * <Checkbox\n *   label=\"Remember me\"\n *   checked={remember}\n *   onChange={(e) => setRemember(e.target.checked)}\n * />\n *\n * <Checkbox\n *   label=\"Subscribe to newsletter\"\n *   helperText=\"We'll send updates weekly\"\n * />\n *\n * <Checkbox\n *   label=\"Select all\"\n *   indeterminate={someSelected}\n *   checked={allSelected}\n * />\n * ```\n */\n\nimport React, { forwardRef, useEffect, useRef, useId } from 'react';\nimport { Check, Minus, AlertCircle } from 'lucide-react';\nimport type { CheckboxProps } from './Checkbox.types';\nimport styles from './Checkbox.module.css';\n\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\n  (\n    {\n      label,\n      helperText,\n      error,\n      size = 'md',\n      indeterminate = false,\n      className,\n      id,\n      disabled,\n      required,\n      checked,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedBy,\n      ...rest\n    },\n    ref,\n  ) => {\n    // Use React's useId for stable, unique IDs (SSR-safe)\n    const generatedId = useId();\n    const checkboxId = id || `checkbox-${generatedId}`;\n\n    // IDs for accessible associations\n    const errorId = `${checkboxId}-error`;\n    const helperId = `${checkboxId}-helper`;\n\n    // Handle indeterminate state (requires ref access)\n    const internalRef = useRef<HTMLInputElement>(null);\n    const inputRef = (ref as React.RefObject<HTMLInputElement>) || internalRef;\n\n    useEffect(() => {\n      if (inputRef.current) {\n        inputRef.current.indeterminate = indeterminate;\n      }\n    }, [indeterminate, inputRef]);\n\n    // Build aria-describedby from multiple sources\n    const describedByIds: string[] = [];\n    if (error) describedByIds.push(errorId);\n    if (helperText && !error) describedByIds.push(helperId);\n    if (ariaDescribedBy) describedByIds.push(ariaDescribedBy);\n    const computedDescribedBy = describedByIds.length > 0 ? describedByIds.join(' ') : undefined;\n\n    // Ensure checkbox has an accessible name\n    const hasAccessibleName = Boolean(label || ariaLabel);\n    if (!hasAccessibleName && process.env.NODE_ENV === 'development') {\n      console.warn(\n        'Checkbox: Missing accessible name. Provide either a `label` prop or `aria-label` for screen reader users.',\n      );\n    }\n\n    // Determine aria-checked value for indeterminate state\n    const ariaChecked = indeterminate ? 'mixed' : undefined;\n\n    const containerClasses = [\n      styles.container,\n      styles[size],\n      error && styles.error,\n      disabled && styles.disabled,\n      className,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <div className={containerClasses}>\n        {/* Hidden input */}\n        <input\n          ref={inputRef}\n          type=\"checkbox\"\n          id={checkboxId}\n          className={styles.input}\n          disabled={disabled}\n          required={required}\n          checked={checked}\n          aria-required={required || undefined}\n          aria-invalid={error ? 'true' : 'false'}\n          aria-checked={ariaChecked}\n          aria-describedby={computedDescribedBy}\n          aria-label={!label ? ariaLabel : undefined}\n          {...rest}\n        />\n\n        {/* Label wrapper (clickable area) */}\n        <label htmlFor={checkboxId} className={styles.labelWrapper}>\n          {/* Custom checkbox indicator */}\n          <span className={styles.checkbox} aria-hidden=\"true\">\n            <span className={styles.checkmark}>\n              {indeterminate ? <Minus strokeWidth={3} /> : <Check strokeWidth={3} />}\n            </span>\n          </span>\n\n          {/* Label text */}\n          {label && (\n            <span className={styles.label}>\n              {label}\n              {required && (\n                <span className={styles.required} aria-hidden=\"true\">\n                  *\n                </span>\n              )}\n            </span>\n          )}\n        </label>\n\n        {/* Helper text */}\n        {helperText && !error && (\n          <p id={helperId} className={styles.helperText}>\n            {helperText}\n          </p>\n        )}\n\n        {/* Error message */}\n        {error && (\n          <p id={errorId} className={styles.errorMessage} role=\"alert\" aria-live=\"assertive\">\n            <AlertCircle size={14} aria-hidden=\"true\" />\n            <span>{error}</span>\n          </p>\n        )}\n      </div>\n    );\n  },\n);\n\nCheckbox.displayName = 'Checkbox';\n"
    },
    {
      "path": "packages/react/src/components/Checkbox/Checkbox.types.ts",
      "type": "registry:types",
      "content": "/**\n * Checkbox Component Types\n *\n * Type definitions for the Orion Checkbox component.\n * Implements WCAG 2.1 AA accessibility guidelines.\n */\n\nimport type { InputHTMLAttributes } from 'react';\n\n/**\n * Checkbox sizes\n */\nexport type CheckboxSize = 'sm' | 'md' | 'lg';\n\n/**\n * Checkbox component props\n *\n * @example\n * ```tsx\n * <Checkbox label=\"Accept terms\" />\n * <Checkbox checked={agreed} onChange={(e) => setAgreed(e.target.checked)} />\n * ```\n */\nexport interface CheckboxProps extends Omit<\n  InputHTMLAttributes<HTMLInputElement>,\n  'size' | 'type'\n> {\n  /**\n   * Checkbox label text.\n   * Required for accessibility unless aria-label is provided.\n   */\n  label?: string;\n\n  /**\n   * Helper text displayed below the checkbox.\n   * Automatically linked via aria-describedby.\n   */\n  helperText?: string;\n\n  /**\n   * Error message.\n   * Shows error state and displays message below checkbox.\n   */\n  error?: string;\n\n  /**\n   * Checkbox size variant.\n   * @default 'md'\n   */\n  size?: CheckboxSize;\n\n  /**\n   * Indeterminate state (partially checked).\n   * Used for \"select all\" patterns where some items are selected.\n   * Sets aria-checked=\"mixed\" for screen readers.\n   * @default false\n   */\n  indeterminate?: boolean;\n\n  // ============================================================================\n  // ACCESSIBILITY PROPS\n  // ============================================================================\n\n  /**\n   * Accessible label for screen readers when no visible label is provided.\n   * REQUIRED if `label` prop is not provided.\n   *\n   * @example\n   * ```tsx\n   * <Checkbox\n   *   aria-label=\"Select row 1\"\n   *   checked={selected}\n   *   onChange={handleSelect}\n   * />\n   * ```\n   */\n  'aria-label'?: string;\n\n  /**\n   * Additional element IDs that describe this checkbox.\n   * Automatically includes error and helper text IDs when provided.\n   */\n  'aria-describedby'?: string;\n}\n"
    },
    {
      "path": "packages/react/src/components/Checkbox/Checkbox.module.css",
      "type": "registry:styles",
      "content": "/**\n * Checkbox Component Styles\n *\n * Multi-select checkbox input.\n * Implements WCAG 2.1 AA accessibility guidelines.\n */\n\n/* ============================================================================\n * CONTAINER\n * ============================================================================ */\n\n.container {\n  display: inline-flex;\n  flex-direction: column;\n  gap: var(--spacing-1);\n}\n\n.disabled {\n  opacity: 0.5;\n}\n\n/* ============================================================================\n * LABEL WRAPPER (clickable area)\n * ============================================================================ */\n\n.labelWrapper {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--spacing-3);\n  cursor: pointer;\n  user-select: none;\n}\n\n.disabled .labelWrapper {\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n/* ============================================================================\n * HIDDEN INPUT\n * ============================================================================ */\n\n.input {\n  position: absolute;\n  opacity: 0;\n  width: 0;\n  height: 0;\n  pointer-events: none;\n}\n\n/* ============================================================================\n * CUSTOM CHECKBOX INDICATOR\n * ============================================================================ */\n\n.checkbox {\n  position: relative;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  /* Default size (md) */\n  width: 20px;\n  height: 20px;\n\n  /* Styling */\n  background: var(--surface-base);\n  border: 2px solid var(--border-strong);\n  border-radius: var(--radius-sm);\n\n  /* Interaction */\n  transition: all var(--transition-fast);\n}\n\n/* Checkmark icon */\n.checkmark {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 12px;\n  height: 12px;\n  color: var(--interactive-primary-text);\n  opacity: 0;\n  transform: scale(0.5);\n  transition: all var(--transition-fast);\n}\n\n/* ============================================================================\n * SIZES\n * ============================================================================ */\n\n.sm .checkbox {\n  width: 16px;\n  height: 16px;\n}\n\n.sm .checkmark {\n  width: 10px;\n  height: 10px;\n}\n\n.md .checkbox {\n  width: 20px;\n  height: 20px;\n}\n\n.md .checkmark {\n  width: 12px;\n  height: 12px;\n}\n\n.lg .checkbox {\n  width: 24px;\n  height: 24px;\n}\n\n.lg .checkmark {\n  width: 14px;\n  height: 14px;\n}\n\n/* ============================================================================\n * CHECKED STATE\n * ============================================================================ */\n\n.input:checked + .labelWrapper .checkbox {\n  background: var(--interactive-primary);\n  border-color: var(--interactive-primary);\n}\n\n.input:checked + .labelWrapper .checkmark {\n  opacity: 1;\n  transform: scale(1);\n}\n\n/* ============================================================================\n * INDETERMINATE STATE\n * ============================================================================ */\n\n.input:indeterminate + .labelWrapper .checkbox {\n  background: var(--interactive-primary);\n  border-color: var(--interactive-primary);\n}\n\n.input:indeterminate + .labelWrapper .checkmark {\n  opacity: 1;\n  transform: scale(1);\n}\n\n/* ============================================================================\n * HOVER STATE\n * ============================================================================ */\n\n.labelWrapper:hover .checkbox {\n  border-color: var(--interactive-primary);\n}\n\n.input:checked + .labelWrapper:hover .checkbox,\n.input:indeterminate + .labelWrapper:hover .checkbox {\n  background: var(--interactive-primary-hover);\n  border-color: var(--interactive-primary-hover);\n}\n\n/* ============================================================================\n * FOCUS STATE\n * ============================================================================ */\n\n.input:focus-visible + .labelWrapper .checkbox {\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: 2px;\n  box-shadow: 0 0 0 4px var(--soft-brand);\n}\n\n/* ============================================================================\n * DISABLED STATE\n * ============================================================================ */\n\n.input:disabled + .labelWrapper {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n.input:disabled + .labelWrapper .checkbox {\n  background: var(--surface-subtle);\n  border-color: var(--border-subtle);\n}\n\n.input:disabled:checked + .labelWrapper .checkbox,\n.input:disabled:indeterminate + .labelWrapper .checkbox {\n  background: var(--text-tertiary);\n  border-color: var(--text-tertiary);\n}\n\n/* ============================================================================\n * ERROR STATE\n * ============================================================================ */\n\n.error .checkbox {\n  border-color: var(--status-error);\n}\n\n.error .labelWrapper:hover .checkbox {\n  border-color: var(--status-error);\n}\n\n.error .input:focus-visible + .labelWrapper .checkbox {\n  outline-color: var(--status-error);\n  box-shadow: 0 0 0 4px var(--soft-error);\n}\n\n/* ============================================================================\n * LABEL & TEXT\n * ============================================================================ */\n\n.label {\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-14);\n  font-weight: var(--font-weight-normal);\n  color: var(--text-primary);\n  line-height: 1.4;\n}\n\n.sm .label {\n  font-size: var(--font-size-13);\n}\n\n.lg .label {\n  font-size: var(--font-size-16);\n}\n\n.required {\n  color: var(--status-error);\n  margin-left: 2px;\n}\n\n/* Helper text - aligned with label */\n.helperText {\n  margin: 0;\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-12);\n  color: var(--text-secondary);\n  line-height: var(--line-height-snug);\n  padding-left: calc(20px + var(--spacing-3)); /* checkbox width + gap */\n}\n\n.sm .helperText {\n  padding-left: calc(16px + var(--spacing-3));\n}\n\n.lg .helperText {\n  padding-left: calc(24px + var(--spacing-3));\n}\n\n/* Error message */\n.errorMessage {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-1);\n  margin: 0;\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-12);\n  color: var(--status-error);\n  line-height: var(--line-height-snug);\n  padding-left: calc(20px + var(--spacing-3));\n}\n\n.sm .errorMessage {\n  padding-left: calc(16px + var(--spacing-3));\n}\n\n.lg .errorMessage {\n  padding-left: calc(24px + var(--spacing-3));\n}\n\n/* ============================================================================\n * HIGH CONTRAST MODE SUPPORT\n * ============================================================================ */\n\n@media (forced-colors: active) {\n  .checkbox {\n    border: 2px solid CanvasText;\n    background: Canvas;\n  }\n\n  .input:checked + .labelWrapper .checkbox,\n  .input:indeterminate + .labelWrapper .checkbox {\n    background: Highlight;\n    border-color: Highlight;\n  }\n\n  .checkmark {\n    color: Canvas;\n  }\n\n  .input:focus-visible + .labelWrapper .checkbox {\n    outline: 3px solid Highlight;\n    outline-offset: 2px;\n  }\n\n  .input:disabled + .labelWrapper .checkbox {\n    border-color: GrayText;\n  }\n\n  .error .checkbox {\n    border-color: LinkText;\n  }\n\n  .errorMessage {\n    color: LinkText;\n  }\n\n  .label {\n    color: CanvasText;\n  }\n}\n\n/* ============================================================================\n * REDUCED MOTION\n * ============================================================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .checkbox,\n  .checkmark {\n    transition: none;\n  }\n}\n"
    },
    {
      "path": "packages/react/src/components/Checkbox/index.ts",
      "type": "registry:index",
      "content": "/**\n * Checkbox Component - Boolean selection with label.\n *\n * @example\n * ```tsx\n * import { Checkbox } from '@orion-ds/react';\n *\n * <Checkbox label=\"I agree to the terms\" />\n * <Checkbox label=\"Select all\" checked={selectAll} indeterminate={someSelected} />\n * <Checkbox label=\"Remember me\" checked={remember} onChange={setRemember} />\n * ```\n */\nexport { Checkbox } from './Checkbox';\nexport type { CheckboxProps, CheckboxSize } from './Checkbox.types';\n"
    }
  ],
  "props": [
    {
      "name": "label",
      "type": "string",
      "description": "Checkbox label text."
    },
    {
      "name": "helperText",
      "type": "string",
      "description": "Helper text displayed below the checkbox."
    },
    {
      "name": "error",
      "type": "string",
      "description": "Error message."
    },
    {
      "name": "size",
      "type": "CheckboxSize",
      "description": "Checkbox size variant.",
      "default": "md",
      "values": [
        "sm",
        "md",
        "lg"
      ]
    },
    {
      "name": "indeterminate",
      "type": "boolean",
      "description": "Indeterminate state (partially checked).",
      "default": false
    },
    {
      "name": "aria-label",
      "type": "string",
      "description": "Accessible label for screen readers when no visible label is provided.",
      "required": true
    },
    {
      "name": "aria-describedby",
      "type": "string",
      "description": "Additional element IDs that describe this checkbox.",
      "required": true
    }
  ],
  "tokens": [
    "--interactive-primary",
    "--border-subtle",
    "--radius-sm"
  ],
  "examples": [
    {
      "title": "Basic checkbox",
      "code": "<Checkbox label=\"I agree to the terms\" checked={agreed} onChange={setAgreed} />"
    }
  ],
  "accessibility": {
    "role": "checkbox",
    "ariaAttributes": [
      "aria-checked",
      "aria-label"
    ],
    "keyboardNav": [
      {
        "key": "Space",
        "action": "Toggle checkbox"
      }
    ]
  },
  "modeAware": false,
  "preview": {
    "url": "https://orion-ds.dev/library.html#checkbox",
    "local": "/library.html#checkbox"
  },
  "import": "import { Checkbox } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
