{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "modal",
  "type": "registry:component",
  "title": "Modal",
  "description": "Dialog overlay for focused interactions",
  "category": "overlays",
  "files": [
    {
      "path": "packages/react/src/components/Modal/Modal.tsx",
      "type": "registry:component",
      "content": "/**\n * Modal Component\n *\n * Dialog/overlay component with backdrop and animation.\n *\n * @example\n * ```tsx\n * <Modal open={isOpen} onClose={() => setIsOpen(false)}>\n *   <Modal.Header>Confirm Action</Modal.Header>\n *   <Modal.Body>\n *     Are you sure you want to proceed?\n *   </Modal.Body>\n *   <Modal.Footer>\n *     <Button variant=\"secondary\" onClick={() => setIsOpen(false)}>\n *       Cancel\n *     </Button>\n *     <Button variant=\"primary\" onClick={handleConfirm}>\n *       Confirm\n *     </Button>\n *   </Modal.Footer>\n * </Modal>\n * ```\n */\n\nimport React, { useEffect } from 'react';\nimport type { ModalProps, ModalHeaderProps, ModalBodyProps, ModalFooterProps } from './Modal.types';\nimport styles from './Modal.module.css';\n\n// Main Modal component\nexport const Modal: React.FC<ModalProps> & {\n  Header: React.FC<ModalHeaderProps>;\n  Body: React.FC<ModalBodyProps>;\n  Footer: React.FC<ModalFooterProps>;\n} = ({\n  open,\n  onClose,\n  size = 'md',\n  closeOnBackdrop = true,\n  closeOnEscape = true,\n  showCloseButton = true,\n  children,\n  className,\n}) => {\n  // Handle Escape key\n  useEffect(() => {\n    if (!open || !closeOnEscape) return;\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [open, closeOnEscape, onClose]);\n\n  // Prevent body scroll when modal is open\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  if (!open) return null;\n\n  const modalClasses = [styles.modal, styles[size], className].filter(Boolean).join(' ');\n\n  const handleBackdropClick = (e: React.MouseEvent) => {\n    if (closeOnBackdrop && e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={styles.backdrop} onClick={handleBackdropClick} role=\"dialog\" aria-modal=\"true\">\n      <div className={modalClasses}>\n        {/* Close button in corner */}\n        {showCloseButton && (\n          <button\n            type=\"button\"\n            className={styles.closeButton}\n            onClick={onClose}\n            aria-label=\"Close modal\"\n            style={{\n              position: 'absolute',\n              top: 'var(--spacing-4)',\n              right: 'var(--spacing-4)',\n            }}\n          >\n            Ã—\n          </button>\n        )}\n\n        {children}\n      </div>\n    </div>\n  );\n};\n\n// Modal Header subcomponent\nconst ModalHeader: React.FC<ModalHeaderProps> = ({ className, children }) => {\n  const classNames = [styles.header, className].filter(Boolean).join(' ');\n\n  return <div className={classNames}>{children}</div>;\n};\n\n// Modal Body subcomponent\nconst ModalBody: React.FC<ModalBodyProps> = ({ className, children }) => {\n  const classNames = [styles.body, className].filter(Boolean).join(' ');\n\n  return <div className={classNames}>{children}</div>;\n};\n\n// Modal Footer subcomponent\nconst ModalFooter: React.FC<ModalFooterProps> = ({ className, children }) => {\n  const classNames = [styles.footer, className].filter(Boolean).join(' ');\n\n  return <div className={classNames}>{children}</div>;\n};\n\n// Attach subcomponents\nModal.Header = ModalHeader;\nModal.Body = ModalBody;\nModal.Footer = ModalFooter;\n\n// Display names for debugging\nModal.displayName = 'Modal';\nModalHeader.displayName = 'Modal.Header';\nModalBody.displayName = 'Modal.Body';\nModalFooter.displayName = 'Modal.Footer';\n"
    },
    {
      "path": "packages/react/src/components/Modal/Modal.types.ts",
      "type": "registry:types",
      "content": "/**\n * Modal Component Types\n *\n * Type definitions for the Orion Modal component (dialog/overlay).\n */\n\nimport type { ReactNode } from 'react';\n\n/**\n * Modal sizes\n */\nexport type ModalSize = 'sm' | 'md' | 'lg' | 'xl' | 'full';\n\n/**\n * Modal component props\n *\n * @example\n * ```tsx\n * <Modal open={isOpen} onClose={() => setIsOpen(false)}>\n *   <Modal.Header>Title</Modal.Header>\n *   <Modal.Body>Content</Modal.Body>\n *   <Modal.Footer>\n *     <Button onClick={handleSave}>Save</Button>\n *   </Modal.Footer>\n * </Modal>\n * ```\n */\nexport interface ModalProps {\n  /**\n   * Whether the modal is open\n   */\n  open: boolean;\n\n  /**\n   * Callback when modal should close\n   */\n  onClose: () => void;\n\n  /**\n   * Modal size\n   * @default 'md'\n   */\n  size?: ModalSize;\n\n  /**\n   * Close on backdrop click\n   * @default true\n   */\n  closeOnBackdrop?: boolean;\n\n  /**\n   * Close on Escape key\n   * @default true\n   */\n  closeOnEscape?: boolean;\n\n  /**\n   * Show close button\n   * @default true\n   */\n  showCloseButton?: boolean;\n\n  /**\n   * Modal content\n   */\n  children?: ReactNode;\n\n  /**\n   * Additional class name\n   */\n  className?: string;\n}\n\n/**\n * Modal Header props\n */\nexport interface ModalHeaderProps {\n  children?: ReactNode;\n  className?: string;\n}\n\n/**\n * Modal Body props\n */\nexport interface ModalBodyProps {\n  children?: ReactNode;\n  className?: string;\n}\n\n/**\n * Modal Footer props\n */\nexport interface ModalFooterProps {\n  children?: ReactNode;\n  className?: string;\n}\n"
    },
    {
      "path": "packages/react/src/components/Modal/Modal.module.css",
      "type": "registry:styles",
      "content": "/**\n * Modal Component Styles\n *\n * Dialog/overlay component with backdrop.\n */\n\n/* Backdrop overlay */\n.backdrop {\n  position: fixed;\n  inset: 0;\n  z-index: var(--z-modal-backdrop);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--surface-overlay);\n  backdrop-filter: blur(var(--blur-sm));\n  animation: fadeIn 200ms ease;\n  padding: var(--spacing-4);\n  overflow-y: auto;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Modal container */\n.modal {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-height: calc(100vh - var(--spacing-8));\n  background: var(--surface-base);\n  border-radius: var(--radius-container);\n  box-shadow: var(--shadow-xl);\n  animation: slideUp 200ms ease;\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n/* Reduced motion */\n@media (prefers-reduced-motion: reduce) {\n  .backdrop,\n  .modal {\n    animation: none;\n  }\n}\n\n/* ============================================================================\n * SIZES\n * ============================================================================ */\n\n.sm {\n  max-width: 400px;\n}\n\n.md {\n  max-width: 560px;\n}\n\n.lg {\n  max-width: 720px;\n}\n\n.xl {\n  max-width: 960px;\n}\n\n.full {\n  max-width: 100%;\n  margin: var(--spacing-4);\n}\n\n/* ============================================================================\n * MODAL SECTIONS\n * ============================================================================ */\n\n/* Modal Header */\n.header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--spacing-6);\n  border-bottom: 1px solid var(--border-subtle);\n  font-size: var(--font-size-20);\n  font-weight: var(--font-weight-bold);\n  color: var(--text-primary);\n}\n\n/* Close button */\n.closeButton {\n  /* Layout */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  margin-left: var(--spacing-4);\n  flex-shrink: 0;\n\n  /* Styling */\n  background: transparent;\n  border: none;\n  border-radius: var(--radius-sm);\n  color: var(--text-tertiary);\n  cursor: pointer;\n\n  /* Typography */\n  font-size: var(--font-size-20);\n  line-height: 1;\n\n  /* Interaction */\n  transition: all var(--transition-fast);\n\n  &:hover {\n    background: var(--interactive-ghost-hover);\n    color: var(--text-primary);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  &:focus-visible {\n    outline: 2px solid var(--interactive-primary);\n    outline-offset: 2px;\n  }\n}\n\n/* Modal Body */\n.body {\n  padding: var(--spacing-6);\n  overflow-y: auto;\n  flex: 1;\n  color: var(--text-primary);\n}\n\n/* Modal Footer */\n.footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: var(--spacing-3);\n  padding: var(--spacing-6);\n  border-top: 1px solid var(--border-subtle);\n}\n"
    },
    {
      "path": "packages/react/src/components/Modal/index.ts",
      "type": "registry:index",
      "content": "/**\n * Modal Component - Dialogs and confirmation windows.\n *\n * @example\n * ```tsx\n * import { Modal, Button } from '@orion-ds/react';\n *\n * <Modal isOpen={isOpen} onClose={() => setIsOpen(false)} size=\"md\">\n *   <Modal.Header>Confirm Action</Modal.Header>\n *   <Modal.Body>Are you sure you want to proceed?</Modal.Body>\n *   <Modal.Footer>\n *     <Button variant=\"ghost\" onClick={() => setIsOpen(false)}>Cancel</Button>\n *     <Button variant=\"primary\">Confirm</Button>\n *   </Modal.Footer>\n * </Modal>\n * ```\n */\nexport { Modal } from './Modal';\nexport type {\n  ModalProps,\n  ModalHeaderProps,\n  ModalBodyProps,\n  ModalFooterProps,\n  ModalSize,\n} from './Modal.types';\n"
    }
  ],
  "props": [
    {
      "name": "open",
      "type": "boolean",
      "description": "Whether the modal is open",
      "required": true
    },
    {
      "name": "onClose",
      "type": "() => void",
      "description": "Callback when modal should close",
      "required": true
    },
    {
      "name": "size",
      "type": "ModalSize",
      "description": "Modal size",
      "default": "md",
      "values": [
        "sm",
        "md",
        "lg",
        "xl",
        "full"
      ]
    },
    {
      "name": "closeOnBackdrop",
      "type": "boolean",
      "description": "Close on backdrop click",
      "default": true
    },
    {
      "name": "closeOnEscape",
      "type": "boolean",
      "description": "Close on Escape key",
      "default": true
    },
    {
      "name": "showCloseButton",
      "type": "boolean",
      "description": "Show close button",
      "default": true
    },
    {
      "name": "className",
      "type": "string",
      "description": "Additional class name"
    }
  ],
  "subComponents": [
    {
      "name": "Modal.Header",
      "description": "Modal header with title",
      "props": [
        {
          "name": "className",
          "type": "string",
          "description": ""
        }
      ]
    },
    {
      "name": "Modal.Body",
      "description": "Modal content area",
      "props": [
        {
          "name": "className",
          "type": "string",
          "description": ""
        }
      ]
    },
    {
      "name": "Modal.Footer",
      "description": "Modal footer with actions",
      "props": [
        {
          "name": "className",
          "type": "string",
          "description": ""
        }
      ]
    }
  ],
  "tokens": [
    "--surface-base",
    "--surface-overlay",
    "--border-subtle",
    "--radius-container",
    "--shadow-xl"
  ],
  "examples": [
    {
      "title": "Basic modal",
      "code": "<Modal open={isOpen} onClose={() => setIsOpen(false)}>\n  <Modal.Header>Confirm Action</Modal.Header>\n  <Modal.Body>Are you sure?</Modal.Body>\n  <Modal.Footer>\n    <Button variant=\"secondary\" onClick={() => setIsOpen(false)}>Cancel</Button>\n    <Button variant=\"primary\" onClick={handleConfirm}>Confirm</Button>\n  </Modal.Footer>\n</Modal>"
    },
    {
      "title": "Large modal",
      "code": "<Modal open={isOpen} onClose={handleClose} size=\"lg\">\n  <Modal.Header>Edit Profile</Modal.Header>\n  <Modal.Body>\n    <Field label=\"Name\" />\n    <Field label=\"Email\" type=\"email\" />\n  </Modal.Body>\n</Modal>"
    }
  ],
  "accessibility": {
    "role": "dialog",
    "ariaAttributes": [
      "aria-modal",
      "aria-labelledby",
      "aria-describedby"
    ],
    "keyboardNav": [
      {
        "key": "Escape",
        "action": "Close modal"
      },
      {
        "key": "Tab",
        "action": "Navigate within modal (focus trap)"
      }
    ],
    "notes": [
      "Focus is trapped within modal",
      "Focus returns to trigger on close"
    ]
  },
  "modeAware": false,
  "preview": {
    "url": "https://orion-ds.dev/library.html#modal",
    "local": "/library.html#modal"
  },
  "import": "import { Modal } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
