{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "date-picker",
  "type": "registry:component",
  "title": "DatePicker",
  "description": "DatePicker component",
  "category": "utilities",
  "files": [
    {
      "path": "packages/react/src/components/DatePicker/DatePicker.tsx",
      "type": "registry:component",
      "content": "/**\n * DatePicker Component\n *\n * Composes Popover + Calendar into a single date selection control.\n * Supports single and range modes with optional presets.\n *\n * @example\n * ```tsx\n * <DatePicker selected={date} onSelect={setDate} placeholder=\"Pick a date\" />\n *\n * <DatePicker mode=\"range\" selected={range} onSelect={setRange} />\n * ```\n */\n\nimport React, { useState, useCallback, useMemo } from \"react\";\nimport { format as formatDate } from \"date-fns\";\nimport { Calendar as CalendarIcon } from \"lucide-react\";\nimport { Popover } from \"../Popover\";\nimport { Calendar } from \"../Calendar\";\nimport { Button } from \"../Button\";\nimport type { DateRange } from \"../Calendar/Calendar.types\";\nimport type { DatePickerProps, DatePickerPreset } from \"./DatePicker.types\";\nimport styles from \"./DatePicker.module.css\";\n\nexport const DatePicker: React.FC<DatePickerProps> = (props) => {\n  const {\n    mode = \"single\",\n    min,\n    max,\n    disabledDates,\n    placeholder = \"Pick a date\",\n    presets,\n    format: dateFormat = \"PPP\",\n    disabled = false,\n    triggerClassName,\n    className,\n  } = props;\n\n  const [open, setOpen] = useState(false);\n\n  // Format the display text\n  const displayText = useMemo(() => {\n    if (mode === \"single\" && props.mode !== \"range\") {\n      if (!props.selected) return null;\n      return formatDate(props.selected, dateFormat);\n    }\n    if (mode === \"range\" && props.mode === \"range\") {\n      if (!props.selected?.from) return null;\n      if (!props.selected.to) {\n        return formatDate(props.selected.from, dateFormat);\n      }\n      return `${formatDate(props.selected.from, dateFormat)} - ${formatDate(props.selected.to, dateFormat)}`;\n    }\n    return null;\n  }, [mode, props, dateFormat]);\n\n  // Handle calendar selection\n  const handleSelect = useCallback(\n    (value: Date | undefined | DateRange | Date[]) => {\n      if (mode === \"single\" && props.mode !== \"range\") {\n        const onSelect = props.onSelect as\n          | ((d: Date | undefined) => void)\n          | undefined;\n        onSelect?.(value as Date | undefined);\n        setOpen(false);\n      } else if (mode === \"range\" && props.mode === \"range\") {\n        const onSelect = props.onSelect as\n          | ((r: DateRange | undefined) => void)\n          | undefined;\n        const range = value as DateRange | undefined;\n        onSelect?.(range);\n        // Close popover when range is complete\n        if (range?.from && range?.to) {\n          setOpen(false);\n        }\n      }\n    },\n    [mode, props],\n  );\n\n  // Handle preset selection\n  const handlePreset = useCallback(\n    (preset: DatePickerPreset) => {\n      if (mode === \"single\" && props.mode !== \"range\") {\n        const onSelect = props.onSelect as\n          | ((d: Date | undefined) => void)\n          | undefined;\n        onSelect?.(preset.value as Date);\n      } else if (mode === \"range\" && props.mode === \"range\") {\n        const onSelect = props.onSelect as\n          | ((r: DateRange | undefined) => void)\n          | undefined;\n        onSelect?.(preset.value as DateRange);\n      }\n      setOpen(false);\n    },\n    [mode, props],\n  );\n\n  const triggerClasses = [styles.trigger, triggerClassName]\n    .filter(Boolean)\n    .join(\" \");\n\n  const wrapperClasses = [styles.wrapper, className].filter(Boolean).join(\" \");\n\n  // Build calendar props\n  const calendarProps = {\n    min,\n    max,\n    disabled: disabledDates,\n  };\n\n  const popoverContent = (\n    <div className={styles.popoverContent}>\n      {presets && presets.length > 0 && (\n        <div className={styles.presets}>\n          {presets.map((preset) => (\n            <button\n              key={preset.label}\n              type=\"button\"\n              className={styles.presetButton}\n              onClick={() => handlePreset(preset)}\n            >\n              {preset.label}\n            </button>\n          ))}\n        </div>\n      )}\n      {mode === \"single\" ? (\n        <Calendar\n          mode=\"single\"\n          selected={props.mode !== \"range\" ? props.selected : undefined}\n          onSelect={handleSelect as (d: Date | undefined) => void}\n          {...calendarProps}\n        />\n      ) : (\n        <Calendar\n          mode=\"range\"\n          selected={props.mode === \"range\" ? props.selected : undefined}\n          onSelect={handleSelect as (r: DateRange | undefined) => void}\n          {...calendarProps}\n        />\n      )}\n    </div>\n  );\n\n  const trigger = (\n    <Button\n      variant=\"secondary\"\n      className={triggerClasses}\n      disabled={disabled}\n      aria-label={placeholder}\n      icon={<CalendarIcon size={16} className={styles.triggerIcon} />}\n    >\n      {displayText ? (\n        <span>{displayText}</span>\n      ) : (\n        <span className={styles.placeholder}>{placeholder}</span>\n      )}\n    </Button>\n  );\n\n  return (\n    <div className={wrapperClasses}>\n      <Popover\n        trigger={trigger}\n        content={popoverContent}\n        placement=\"bottom-start\"\n        open={open}\n        onOpenChange={setOpen}\n        showArrow={false}\n        offset={4}\n        className={styles.popover}\n      />\n    </div>\n  );\n};\n\nDatePicker.displayName = \"DatePicker\";\n"
    },
    {
      "path": "packages/react/src/components/DatePicker/DatePicker.types.ts",
      "type": "registry:types",
      "content": "/**\n * DatePicker Component Types\n *\n * Type definitions for the Orion DatePicker component.\n * Composes Calendar + Popover with formatted trigger display.\n */\n\nimport type { DateRange } from \"../Calendar/Calendar.types\";\n\n/**\n * Preset option for quick date selection\n */\nexport interface DatePickerPreset {\n  label: string;\n  value: Date | DateRange;\n}\n\n/**\n * Base DatePicker props shared across modes\n */\ninterface DatePickerBaseProps {\n  /**\n   * Minimum selectable date\n   */\n  min?: Date;\n\n  /**\n   * Maximum selectable date\n   */\n  max?: Date;\n\n  /**\n   * Disabled dates — array of dates or predicate function\n   */\n  disabledDates?: Date[] | ((date: Date) => boolean);\n\n  /**\n   * Placeholder text for the trigger button\n   * @default 'Pick a date'\n   */\n  placeholder?: string;\n\n  /**\n   * Quick-select presets (e.g., \"Last 7 days\")\n   */\n  presets?: DatePickerPreset[];\n\n  /**\n   * date-fns format string for displaying the selected date\n   * @default 'PPP'\n   */\n  format?: string;\n\n  /**\n   * Whether the trigger is disabled\n   * @default false\n   */\n  disabled?: boolean;\n\n  /**\n   * Additional class name for the trigger button\n   */\n  triggerClassName?: string;\n\n  /**\n   * Additional class name for the wrapper\n   */\n  className?: string;\n}\n\n/**\n * Single date picker\n */\nexport interface DatePickerSingleProps extends DatePickerBaseProps {\n  mode?: \"single\";\n  selected?: Date;\n  onSelect?: (date: Date | undefined) => void;\n}\n\n/**\n * Range date picker\n */\nexport interface DatePickerRangeProps extends DatePickerBaseProps {\n  mode: \"range\";\n  selected?: DateRange;\n  onSelect?: (range: DateRange | undefined) => void;\n}\n\n/**\n * Union type for all DatePicker modes\n */\nexport type DatePickerProps = DatePickerSingleProps | DatePickerRangeProps;\n"
    },
    {
      "path": "packages/react/src/components/DatePicker/DatePicker.module.css",
      "type": "registry:styles",
      "content": "/**\n * DatePicker Component Styles\n *\n * Trigger button and popover layout for date selection.\n */\n\n.wrapper {\n  display: inline-block;\n  position: relative;\n}\n\n/* Trigger button — layout overrides on top of Button secondary */\n.trigger {\n  min-width: 200px;\n  justify-content: flex-start;\n  white-space: nowrap;\n}\n\n.triggerIcon {\n  color: var(--text-tertiary);\n  flex-shrink: 0;\n}\n\n.placeholder {\n  color: var(--text-tertiary);\n}\n\n/* Popover override — wider than default to fit presets + calendar */\n.popover {\n  max-width: none;\n}\n\n.popover > div {\n  padding: 0;\n}\n\n/* Popover content wrapper */\n.popoverContent {\n  display: flex;\n}\n\n/* Presets sidebar */\n.presets {\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid var(--border-subtle);\n  padding: var(--spacing-2);\n  min-width: 140px;\n}\n\n.presetButton {\n  display: block;\n  width: 100%;\n  padding: var(--spacing-2) var(--spacing-3);\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-13);\n  color: var(--text-secondary);\n  background: transparent;\n  border: none;\n  border-radius: var(--radius-sm);\n  cursor: pointer;\n  text-align: left;\n  transition: all var(--transition-fast);\n  white-space: nowrap;\n}\n\n.presetButton:hover {\n  background: var(--interactive-ghost-hover);\n  color: var(--text-primary);\n}\n\n.presetButton:focus-visible {\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: 2px;\n}\n\n/* ============================================================================\n * REDUCED MOTION\n * ============================================================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .presetButton {\n    transition: none;\n  }\n}\n"
    },
    {
      "path": "packages/react/src/components/DatePicker/index.ts",
      "type": "registry:index",
      "content": "/**\n * DatePicker Component - Date selection with popover calendar.\n *\n * @example\n * ```tsx\n * import { DatePicker } from '@orion-ds/react';\n *\n * <DatePicker selected={date} onSelect={setDate} />\n * <DatePicker mode=\"range\" selected={range} onSelect={setRange} presets={presets} />\n * ```\n */\nexport { DatePicker } from \"./DatePicker\";\nexport type {\n  DatePickerProps,\n  DatePickerSingleProps,\n  DatePickerRangeProps,\n  DatePickerPreset,\n} from \"./DatePicker.types\";\n"
    }
  ],
  "modeAware": false,
  "preview": {
    "url": "https://orion-ds.dev/library.html#date-picker",
    "local": "/library.html#date-picker"
  },
  "import": "import { DatePicker } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
