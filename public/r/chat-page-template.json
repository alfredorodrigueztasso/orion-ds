{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "chat-page-template",
  "type": "registry:template",
  "title": "Chat Page",
  "description": "ChatPage page template",
  "category": "app",
  "files": [
    {
      "path": "packages/react/src/templates/app/ChatPageTemplate/ChatPageTemplate.tsx",
      "type": "registry:component",
      "content": "/**\n * ChatPageTemplate Component\n *\n * Full-page ChatGPT-style layout with sidebar and user menu.\n *\n * @example\n * ```tsx\n * <ChatPageTemplate\n *   conversations={conversations}\n *   activeConversationId={activeId}\n *   messages={messages}\n *   onSendMessage={handleSend}\n *   onSelectConversation={handleSelect}\n *   onNewConversation={handleNew}\n *   user={{ name: 'John', avatar: '...' }}\n * />\n * ```\n */\n\nimport { forwardRef, useState, useCallback } from 'react';\nimport { Menu, LogOut, Settings, User } from 'lucide-react';\nimport { Chat } from '../../../components/Chat';\nimport type {\n  ChatPageTemplateProps,\n  ChatMessage as ChatMessageType,\n} from '../../../components/Chat';\nimport { useStreamingText } from '../../../components/Chat/hooks/useStreamingText';\nimport styles from '../../../components/Chat/Chat.module.css';\n\n/**\n * Internal wrapper that progressively reveals message content word-by-word.\n * Used automatically for messages with `isStreaming: true`.\n */\nfunction StreamingChatMessage({ message }: { message: ChatMessageType }) {\n  const { displayText, isComplete } = useStreamingText(message.content);\n\n  return (\n    <Chat.Message\n      role={message.role}\n      content={displayText}\n      timestamp={message.timestamp}\n      status={message.status}\n      attachments={message.attachments}\n      isStreaming={!isComplete}\n    />\n  );\n}\n\nexport const ChatPageTemplate = forwardRef<HTMLDivElement, ChatPageTemplateProps>(\n  (\n    {\n      // Sidebar props\n      conversations = [],\n      activeConversationId,\n      onSelectConversation,\n      onNewConversation,\n      onDeleteConversation,\n      // Chat props\n      messages = [],\n      onSendMessage,\n      isTyping = false,\n      isLoading = false,\n      // Header props\n      user,\n      onLogout,\n      // Customization\n      logo,\n      inputConfig,\n      className,\n      ...rest\n    },\n    ref,\n  ) => {\n    const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n    const [showUserMenu, setShowUserMenu] = useState(false);\n\n    const handleSend = useCallback(\n      (message: string, attachments?: File[]) => {\n        onSendMessage?.(message, attachments);\n      },\n      [onSendMessage],\n    );\n\n    return (\n      <div\n        ref={ref}\n        className={[styles.pageTemplate, className].filter(Boolean).join(' ')}\n        {...rest}\n      >\n        {/* Sidebar with user footer */}\n        <Chat.Sidebar\n          conversations={conversations}\n          activeConversationId={activeConversationId}\n          onSelectConversation={onSelectConversation}\n          onNewConversation={onNewConversation}\n          onDeleteConversation={onDeleteConversation}\n          collapsed={sidebarCollapsed}\n          onCollapsedChange={setSidebarCollapsed}\n          header={\n            <div className={styles.pageTemplateSidebarHeader}>\n              {/* Logo */}\n              <div className={styles.pageTemplateSidebarHeaderLogo}>\n                {logo || <span className={styles.pageTemplateSidebarHeaderLogoText}>AI Chat</span>}\n              </div>\n              {/* Mobile close */}\n              <button\n                className={[styles.inputButton, styles.sidebarCloseButton].join(' ')}\n                onClick={() => setSidebarCollapsed(true)}\n                aria-label=\"Close sidebar\"\n              >\n                <Menu size={20} />\n              </button>\n            </div>\n          }\n          footer={\n            user && (\n              <div style={{ position: 'relative' }}>\n                <button\n                  className={[\n                    styles.pageTemplateUserButton,\n                    showUserMenu && styles.pageTemplateUserButtonActive,\n                  ]\n                    .filter(Boolean)\n                    .join(' ')}\n                  onClick={() => setShowUserMenu(!showUserMenu)}\n                  aria-expanded={showUserMenu}\n                  aria-haspopup=\"menu\"\n                >\n                  {/* User avatar */}\n                  {user.avatar ? (\n                    <img\n                      src={user.avatar}\n                      alt={user.name}\n                      className={styles.pageTemplateUserAvatar}\n                    />\n                  ) : (\n                    <div className={styles.pageTemplateUserAvatarFallback}>\n                      <User size={18} />\n                    </div>\n                  )}\n                  <span className={styles.pageTemplateUserName}>{user.name}</span>\n                </button>\n\n                {/* User menu dropdown */}\n                {showUserMenu && (\n                  <div className={styles.pageTemplateUserMenu} role=\"menu\">\n                    <button\n                      className={styles.pageTemplateMenuItem}\n                      onClick={() => {\n                        setShowUserMenu(false);\n                        // Navigate to settings\n                      }}\n                      role=\"menuitem\"\n                    >\n                      <Settings size={16} />\n                      Settings\n                    </button>\n                    {onLogout && (\n                      <button\n                        className={[\n                          styles.pageTemplateMenuItem,\n                          styles.pageTemplateMenuItemDanger,\n                        ].join(' ')}\n                        onClick={() => {\n                          setShowUserMenu(false);\n                          onLogout();\n                        }}\n                        role=\"menuitem\"\n                      >\n                        <LogOut size={16} />\n                        Sign out\n                      </button>\n                    )}\n                  </div>\n                )}\n              </div>\n            )\n          }\n        />\n\n        {/* Main chat area */}\n        <div className={styles.sectionMain}>\n          <Chat>\n            {/* Header with mobile menu */}\n            <Chat.Header\n              title={conversations.find((c) => c.id === activeConversationId)?.title || 'New Chat'}\n              actions={\n                <button\n                  className={[styles.inputButton, styles.sectionMobileMenuButton].join(' ')}\n                  onClick={() => setSidebarCollapsed(false)}\n                  aria-label=\"Open sidebar\"\n                >\n                  <Menu size={20} />\n                </button>\n              }\n            />\n\n            {/* Messages */}\n            <Chat.Messages>\n              {messages.length === 0 ? (\n                <div className={styles.emptyState}>\n                  <div className={styles.emptyStateIcon}>\n                    <Chat.Markdown content=\"âœ¨\" />\n                  </div>\n                  <div>\n                    <h3 className={styles.emptyStateTitle}>How can I help you today?</h3>\n                    <p className={styles.emptyStateText}>\n                      Start a conversation by typing a message below.\n                    </p>\n                  </div>\n                </div>\n              ) : (\n                messages.map((msg: ChatMessageType) =>\n                  msg.isStreaming ? (\n                    <StreamingChatMessage key={msg.id} message={msg} />\n                  ) : (\n                    <Chat.Message\n                      key={msg.id}\n                      role={msg.role}\n                      content={msg.content}\n                      timestamp={msg.timestamp}\n                      status={msg.status}\n                      attachments={msg.attachments}\n                    />\n                  ),\n                )\n              )}\n              {isTyping && <Chat.TypingIndicator />}\n            </Chat.Messages>\n\n            {/* Input */}\n            <Chat.Input\n              onSend={handleSend}\n              placeholder={inputConfig?.placeholder || 'Message AI...'}\n              allowAttachments={inputConfig?.allowAttachments ?? true}\n              allowVoiceRecording={inputConfig?.allowVoiceRecording ?? true}\n              maxLength={inputConfig?.maxLength}\n              isLoading={isLoading}\n            />\n          </Chat>\n        </div>\n\n        {/* Click outside to close user menu */}\n        {showUserMenu && (\n          <div\n            className={styles.pageTemplateMenuOverlay}\n            onClick={() => setShowUserMenu(false)}\n            aria-hidden=\"true\"\n          />\n        )}\n      </div>\n    );\n  },\n);\n\nChatPageTemplate.displayName = 'ChatPageTemplate';\n"
    }
  ],
  "preview": {
    "url": "https://orion-ds.dev/library.html#chat-page-template",
    "local": "/library.html#chat-page-template"
  },
  "import": "import { ChatPageTemplate } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
