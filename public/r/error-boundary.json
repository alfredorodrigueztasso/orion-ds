{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "error-boundary",
  "type": "registry:component",
  "title": "ErrorBoundary",
  "description": "ErrorBoundary component",
  "category": "utilities",
  "files": [
    {
      "path": "packages/react/src/components/ErrorBoundary/ErrorBoundary.tsx",
      "type": "registry:component",
      "content": "/**\n * ErrorBoundary Component\n *\n * Catches JavaScript errors in child components and displays a fallback UI\n * instead of crashing the entire application.\n *\n * @example\n * ```tsx\n * <ErrorBoundary>\n *   <MyComponent />\n * </ErrorBoundary>\n *\n * <ErrorBoundary\n *   fallback={(error, reset) => (\n *     <div>\n *       <p>Error: {error.message}</p>\n *       <button onClick={reset}>Try again</button>\n *     </div>\n *   )}\n *   onError={(error, info) => logErrorToService(error, info)}\n * >\n *   <MyComponent />\n * </ErrorBoundary>\n * ```\n */\n\nimport React from 'react';\nimport { AlertCircle } from 'lucide-react';\nimport type { ErrorBoundaryProps, ErrorBoundaryState } from './ErrorBoundary.types';\nimport styles from './ErrorBoundary.module.css';\n\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo): void {\n    this.props.onError?.(error, errorInfo);\n  }\n\n  componentDidUpdate(prevProps: ErrorBoundaryProps): void {\n    if (\n      this.state.hasError &&\n      this.props.resetKey !== undefined &&\n      prevProps.resetKey !== this.props.resetKey\n    ) {\n      this.reset();\n    }\n  }\n\n  reset = (): void => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render(): React.ReactNode {\n    if (this.state.hasError && this.state.error) {\n      const { fallback } = this.props;\n\n      if (typeof fallback === 'function') {\n        return fallback(this.state.error, this.reset);\n      }\n\n      if (fallback) {\n        return fallback;\n      }\n\n      return (\n        <div className={styles.errorBoundary} role=\"alert\">\n          <AlertCircle size={32} className={styles.icon} />\n          <p className={styles.title}>Something went wrong</p>\n          <p className={styles.message}>{this.state.error.message}</p>\n          <button className={styles.resetButton} onClick={this.reset} type=\"button\">\n            Try again\n          </button>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n"
    },
    {
      "path": "packages/react/src/components/ErrorBoundary/ErrorBoundary.types.ts",
      "type": "registry:types",
      "content": "import type { ReactNode, ErrorInfo } from 'react';\n\nexport interface ErrorBoundaryProps {\n  /** Content to render when no error has occurred */\n  children: ReactNode;\n  /** Custom fallback UI to display when an error is caught */\n  fallback?: ReactNode | ((error: Error, reset: () => void) => ReactNode);\n  /** Callback fired when an error is caught */\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n  /** Reset error state when this key changes */\n  resetKey?: string | number;\n}\n\nexport interface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n}\n"
    },
    {
      "path": "packages/react/src/components/ErrorBoundary/ErrorBoundary.module.css",
      "type": "registry:styles",
      "content": ".errorBoundary {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--spacing-8);\n  text-align: center;\n  min-height: 200px;\n  border: 1px solid var(--border-subtle);\n  border-radius: var(--radius-container);\n  background: var(--surface-subtle);\n}\n\n.icon {\n  color: var(--status-error);\n  margin-bottom: var(--spacing-4);\n}\n\n.title {\n  font-family: var(--font-secondary);\n  font-weight: 600;\n  font-size: 1.125rem;\n  color: var(--text-primary);\n  margin: 0 0 var(--spacing-2) 0;\n}\n\n.message {\n  font-family: var(--font-secondary);\n  font-size: 0.875rem;\n  color: var(--text-secondary);\n  margin: 0 0 var(--spacing-4) 0;\n  max-width: 400px;\n}\n\n.resetButton {\n  padding: var(--spacing-2) var(--spacing-4);\n  border-radius: var(--radius-control);\n  border: 1px solid var(--border-default);\n  background: var(--surface-base);\n  color: var(--text-primary);\n  font-family: var(--font-secondary);\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: background var(--transition-fast);\n}\n\n.resetButton:hover {\n  background: var(--surface-layer);\n}\n\n.resetButton:focus-visible {\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: 2px;\n}\n"
    },
    {
      "path": "packages/react/src/components/ErrorBoundary/index.ts",
      "type": "registry:index",
      "content": "export { ErrorBoundary } from './ErrorBoundary';\nexport type { ErrorBoundaryProps, ErrorBoundaryState } from './ErrorBoundary.types';\n"
    }
  ],
  "props": [
    {
      "name": "fallback",
      "type": "ReactNode | ((error: Error, reset: () => void) => ReactNode)",
      "description": "Custom fallback UI to display when an error is caught */"
    },
    {
      "name": "onError",
      "type": "(error: Error, errorInfo: ErrorInfo) => void",
      "description": "Callback fired when an error is caught */"
    },
    {
      "name": "resetKey",
      "type": "string | number",
      "description": "Reset error state when this key changes */"
    }
  ],
  "modeAware": false,
  "preview": {
    "url": "https://orion-ds.dev/library.html#error-boundary",
    "local": "/library.html#error-boundary"
  },
  "import": "import { ErrorBoundary } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
