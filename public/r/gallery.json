{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "gallery",
  "type": "registry:section",
  "title": "Gallery",
  "description": "Gallery section component",
  "category": "marketing",
  "files": [
    {
      "path": "packages/react/src/sections/Gallery/Gallery.tsx",
      "type": "registry:component",
      "content": "/**\n * Gallery Section Component\n *\n * An image gallery section with optional lightbox functionality.\n */\n\nimport React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport type { GalleryProps, GalleryImage } from './Gallery.types';\nimport styles from './Gallery.module.css';\n\n/**\n * Gallery section for displaying images with optional lightbox\n */\nexport const Gallery: React.FC<GalleryProps> = ({\n  eyebrow,\n  title,\n  description,\n  images,\n  layout = 'grid',\n  columns = 4,\n  lightbox = true,\n  showCaptions = false,\n  gap = 'md',\n  filterable = false,\n  background = 'base',\n  aspectRatio = 'square',\n  className,\n  ...rest\n}) => {\n  const [selectedImage, setSelectedImage] = useState<GalleryImage | null>(null);\n  const [activeFilter, setActiveFilter] = useState<string | null>(null);\n\n  // Get unique categories\n  const categories = useMemo(() => {\n    if (!filterable) return [];\n    const cats = new Set<string>();\n    images.forEach((img) => {\n      if (img.category) cats.add(img.category);\n    });\n    return Array.from(cats);\n  }, [images, filterable]);\n\n  // Filter images\n  const filteredImages = useMemo(() => {\n    if (!activeFilter) return images;\n    return images.filter((img) => img.category === activeFilter);\n  }, [images, activeFilter]);\n\n  // Lightbox navigation\n  const currentIndex = selectedImage\n    ? filteredImages.findIndex((img) => img.id === selectedImage.id)\n    : -1;\n\n  const goToPrevious = useCallback(() => {\n    if (currentIndex > 0) {\n      const prevImage = filteredImages[currentIndex - 1];\n      if (prevImage) setSelectedImage(prevImage);\n    }\n  }, [currentIndex, filteredImages]);\n\n  const goToNext = useCallback(() => {\n    if (currentIndex < filteredImages.length - 1) {\n      const nextImage = filteredImages[currentIndex + 1];\n      if (nextImage) setSelectedImage(nextImage);\n    }\n  }, [currentIndex, filteredImages]);\n\n  const closeLightbox = useCallback(() => {\n    setSelectedImage(null);\n  }, []);\n\n  // Keyboard navigation\n  useEffect(() => {\n    if (!selectedImage) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') closeLightbox();\n      if (e.key === 'ArrowLeft') goToPrevious();\n      if (e.key === 'ArrowRight') goToNext();\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    document.body.style.overflow = 'hidden';\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = '';\n    };\n  }, [selectedImage, closeLightbox, goToPrevious, goToNext]);\n\n  const layoutClass = layout === 'masonry' ? styles.masonry : styles.grid;\n\n  return (\n    <section\n      className={`${styles.gallery} ${className || ''}`}\n      data-background={background}\n      {...rest}\n    >\n      <div className={styles.container}>\n        {(eyebrow || title || description) && (\n          <header className={styles.header}>\n            {eyebrow && <span className={styles.eyebrow}>{eyebrow}</span>}\n            {title && <h2 className={styles.title}>{title}</h2>}\n            {description && <p className={styles.description}>{description}</p>}\n          </header>\n        )}\n\n        {filterable && categories.length > 0 && (\n          <div className={styles.filters}>\n            <button\n              className={styles.filterButton}\n              data-active={activeFilter === null}\n              onClick={() => setActiveFilter(null)}\n            >\n              All\n            </button>\n            {categories.map((cat) => (\n              <button\n                key={cat}\n                className={styles.filterButton}\n                data-active={activeFilter === cat}\n                onClick={() => setActiveFilter(cat)}\n              >\n                {cat}\n              </button>\n            ))}\n          </div>\n        )}\n\n        <div className={layoutClass} data-columns={columns} data-gap={gap}>\n          {filteredImages.map((image) => (\n            <div\n              key={image.id}\n              className={styles.imageItem}\n              data-lightbox={lightbox}\n              data-aspect={image.aspectRatio || aspectRatio}\n              onClick={() => lightbox && setSelectedImage(image)}\n              role={lightbox ? 'button' : undefined}\n              tabIndex={lightbox ? 0 : undefined}\n              onKeyDown={(e) => {\n                if (lightbox && (e.key === 'Enter' || e.key === ' ')) {\n                  e.preventDefault();\n                  setSelectedImage(image);\n                }\n              }}\n            >\n              <img\n                src={image.thumbnail || image.src}\n                alt={image.alt}\n                className={styles.image}\n                loading=\"lazy\"\n              />\n              {lightbox && (\n                <div className={styles.imageOverlay}>\n                  <span className={styles.expandIcon}>\n                    <svg\n                      width=\"24\"\n                      height=\"24\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                    >\n                      <path d=\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\" />\n                    </svg>\n                  </span>\n                </div>\n              )}\n              {showCaptions && image.caption && (\n                <div className={styles.caption}>{image.caption}</div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Lightbox */}\n      {selectedImage && (\n        <div\n          className={styles.lightbox}\n          onClick={closeLightbox}\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-label=\"Image lightbox\"\n        >\n          <div className={styles.lightboxContent} onClick={(e) => e.stopPropagation()}>\n            <img src={selectedImage.src} alt={selectedImage.alt} className={styles.lightboxImage} />\n            {selectedImage.caption && (\n              <div className={styles.lightboxCaption}>{selectedImage.caption}</div>\n            )}\n          </div>\n\n          <button\n            className={styles.lightboxClose}\n            onClick={closeLightbox}\n            aria-label=\"Close lightbox\"\n          >\n            &times;\n          </button>\n\n          {currentIndex > 0 && (\n            <button\n              className={`${styles.lightboxNav} ${styles.lightboxPrev}`}\n              onClick={(e) => {\n                e.stopPropagation();\n                goToPrevious();\n              }}\n              aria-label=\"Previous image\"\n            >\n              &#8249;\n            </button>\n          )}\n\n          {currentIndex < filteredImages.length - 1 && (\n            <button\n              className={`${styles.lightboxNav} ${styles.lightboxNext}`}\n              onClick={(e) => {\n                e.stopPropagation();\n                goToNext();\n              }}\n              aria-label=\"Next image\"\n            >\n              &#8250;\n            </button>\n          )}\n        </div>\n      )}\n    </section>\n  );\n};\n\nGallery.displayName = 'Gallery';\n"
    },
    {
      "path": "packages/react/src/sections/Gallery/Gallery.types.ts",
      "type": "registry:types",
      "content": "/**\n * Gallery Section Types\n *\n * Type definitions for the Orion Gallery section component.\n */\n\nimport type { HTMLAttributes, ReactNode } from 'react';\n\n/**\n * Gallery image item\n */\nexport interface GalleryImage {\n  /**\n   * Image unique identifier\n   */\n  id: string | number;\n\n  /**\n   * Image source URL\n   */\n  src: string;\n\n  /**\n   * Image alt text\n   */\n  alt: string;\n\n  /**\n   * Thumbnail URL (optional, uses src if not provided)\n   */\n  thumbnail?: string;\n\n  /**\n   * Image caption\n   */\n  caption?: string;\n\n  /**\n   * Image category for filtering\n   */\n  category?: string;\n\n  /**\n   * Aspect ratio override\n   */\n  aspectRatio?: 'square' | 'landscape' | 'portrait' | 'auto';\n}\n\n/**\n * Gallery layout variants\n */\nexport type GalleryLayout = 'grid' | 'masonry' | 'carousel';\n\n/**\n * Gallery section props\n *\n * @example\n * ```tsx\n * <Gallery\n *   title=\"Our Work\"\n *   images={[\n *     { id: 1, src: \"/gallery/1.jpg\", alt: \"Project 1\" },\n *     { id: 2, src: \"/gallery/2.jpg\", alt: \"Project 2\" },\n *   ]}\n *   layout=\"grid\"\n *   lightbox\n * />\n * ```\n */\nexport interface GalleryProps extends Omit<HTMLAttributes<HTMLElement>, 'title'> {\n  /**\n   * Optional eyebrow text\n   */\n  eyebrow?: ReactNode;\n\n  /**\n   * Section title\n   */\n  title?: ReactNode;\n\n  /**\n   * Section description\n   */\n  description?: ReactNode;\n\n  /**\n   * Array of images\n   */\n  images: GalleryImage[];\n\n  /**\n   * Layout variant\n   * @default 'grid'\n   */\n  layout?: GalleryLayout;\n\n  /**\n   * Number of columns\n   * @default 4\n   */\n  columns?: 2 | 3 | 4 | 5;\n\n  /**\n   * Enable lightbox on click\n   * @default true\n   */\n  lightbox?: boolean;\n\n  /**\n   * Show captions below images\n   * @default false\n   */\n  showCaptions?: boolean;\n\n  /**\n   * Gap between images\n   * @default 'md'\n   */\n  gap?: 'sm' | 'md' | 'lg' | 'none';\n\n  /**\n   * Enable category filtering\n   * @default false\n   */\n  filterable?: boolean;\n\n  /**\n   * Background style\n   * @default 'base'\n   */\n  background?: 'base' | 'subtle' | 'none';\n\n  /**\n   * Aspect ratio for grid items\n   * @default 'square'\n   */\n  aspectRatio?: 'square' | 'landscape' | 'portrait' | 'auto';\n}\n"
    },
    {
      "path": "packages/react/src/sections/Gallery/index.ts",
      "type": "registry:index",
      "content": "export { Gallery } from './Gallery';\nexport type { GalleryProps, GalleryImage, GalleryLayout } from './Gallery.types';\n"
    }
  ],
  "preview": {
    "url": "https://orion-ds.dev/library.html#gallery",
    "local": "/library.html#gallery"
  },
  "import": "import { Gallery } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
