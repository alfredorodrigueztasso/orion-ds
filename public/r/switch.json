{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "switch",
  "type": "registry:component",
  "title": "Switch",
  "description": "Toggle switch for boolean settings",
  "category": "forms",
  "files": [
    {
      "path": "packages/react/src/components/Switch/Switch.tsx",
      "type": "registry:component",
      "content": "/**\n * Switch Component\n *\n * A toggle switch for boolean settings.\n * Implements WCAG 2.1 AA accessibility guidelines.\n *\n * @example\n * ```tsx\n * const [enabled, setEnabled] = useState(false);\n *\n * <Switch\n *   checked={enabled}\n *   onChange={(e) => setEnabled(e.target.checked)}\n *   label=\"Enable notifications\"\n * />\n *\n * <Switch\n *   label=\"Dark mode\"\n *   helperText=\"Use dark theme across the app\"\n *   size=\"sm\"\n * />\n * ```\n */\n\nimport { forwardRef, useId } from 'react';\nimport { AlertCircle } from 'lucide-react';\nimport type { SwitchProps } from './Switch.types';\nimport styles from './Switch.module.css';\n\nexport const Switch = forwardRef<HTMLInputElement, SwitchProps>(\n  (\n    {\n      label,\n      size = 'sm',\n      helperText,\n      error,\n      className,\n      id,\n      disabled,\n      required,\n      checked,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedBy,\n      ...rest\n    },\n    ref,\n  ) => {\n    // Use React's useId for stable, unique IDs (SSR-safe)\n    const generatedId = useId();\n    const switchId = id || `switch-${generatedId}`;\n\n    // IDs for accessible associations\n    const errorId = `${switchId}-error`;\n    const helperId = `${switchId}-helper`;\n\n    // Build aria-describedby from multiple sources\n    const describedByIds: string[] = [];\n    if (error) describedByIds.push(errorId);\n    if (helperText && !error) describedByIds.push(helperId);\n    if (ariaDescribedBy) describedByIds.push(ariaDescribedBy);\n    const computedDescribedBy = describedByIds.length > 0 ? describedByIds.join(' ') : undefined;\n\n    // Ensure switch has an accessible name\n    const hasAccessibleName = Boolean(label || ariaLabel);\n    if (!hasAccessibleName && process.env.NODE_ENV === 'development') {\n      console.warn(\n        'Switch: Missing accessible name. Provide either a `label` prop or `aria-label` for screen reader users.',\n      );\n    }\n\n    const containerClasses = [\n      styles.container,\n      styles[size],\n      error && styles.error,\n      disabled && styles.disabled,\n      className,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <div className={containerClasses}>\n        {/* Hidden input with role=\"switch\" for proper AT announcement */}\n        <input\n          ref={ref}\n          type=\"checkbox\"\n          role=\"switch\"\n          id={switchId}\n          className={styles.input}\n          disabled={disabled}\n          required={required}\n          checked={checked}\n          aria-checked={checked}\n          aria-required={required || undefined}\n          aria-invalid={error ? 'true' : undefined}\n          aria-describedby={computedDescribedBy}\n          aria-label={!label ? ariaLabel : undefined}\n          {...rest}\n        />\n\n        {/* Label wrapper (clickable area) */}\n        <label htmlFor={switchId} className={styles.labelWrapper}>\n          {/* Switch track and thumb */}\n          <span className={styles.track} aria-hidden=\"true\">\n            <span className={styles.thumb} />\n          </span>\n\n          {/* Label text */}\n          {label && (\n            <span className={styles.label}>\n              {label}\n              {required && (\n                <span className={styles.required} aria-hidden=\"true\">\n                  *\n                </span>\n              )}\n            </span>\n          )}\n        </label>\n\n        {/* Helper text */}\n        {helperText && !error && (\n          <p id={helperId} className={styles.helperText}>\n            {helperText}\n          </p>\n        )}\n\n        {/* Error message */}\n        {error && (\n          <p id={errorId} className={styles.errorMessage} role=\"alert\" aria-live=\"assertive\">\n            <AlertCircle size={14} aria-hidden=\"true\" />\n            <span>{error}</span>\n          </p>\n        )}\n      </div>\n    );\n  },\n);\n\nSwitch.displayName = 'Switch';\n"
    },
    {
      "path": "packages/react/src/components/Switch/Switch.types.ts",
      "type": "registry:types",
      "content": "/**\n * Switch Component Types\n *\n * Type definitions for the Orion Switch component (toggle).\n * Implements WCAG 2.1 AA accessibility guidelines.\n */\n\nimport type { InputHTMLAttributes } from 'react';\n\n/**\n * Switch sizes\n */\nexport type SwitchSize = 'sm' | 'md' | 'lg';\n\n/**\n * Switch component props\n *\n * @example\n * ```tsx\n * <Switch checked={enabled} onChange={setEnabled} />\n * <Switch label=\"Enable notifications\" size=\"sm\" />\n * ```\n */\nexport interface SwitchProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'size' | 'type'> {\n  /**\n   * Switch label text.\n   * Required for accessibility unless aria-label is provided.\n   */\n  label?: string;\n\n  /**\n   * Switch size variant.\n   * @default 'sm'\n   */\n  size?: SwitchSize;\n\n  /**\n   * Helper text displayed below the switch.\n   * Automatically linked via aria-describedby.\n   */\n  helperText?: string;\n\n  /**\n   * Error message.\n   * Shows error state and displays message below switch.\n   */\n  error?: string;\n\n  // ============================================================================\n  // ACCESSIBILITY PROPS\n  // ============================================================================\n\n  /**\n   * Accessible label for screen readers when no visible label is provided.\n   * REQUIRED if `label` prop is not provided.\n   *\n   * @example\n   * ```tsx\n   * <Switch\n   *   aria-label=\"Enable dark mode\"\n   *   checked={darkMode}\n   *   onChange={toggleDarkMode}\n   * />\n   * ```\n   */\n  'aria-label'?: string;\n\n  /**\n   * Additional element IDs that describe this switch.\n   * Automatically includes error and helper text IDs when provided.\n   */\n  'aria-describedby'?: string;\n}\n"
    },
    {
      "path": "packages/react/src/components/Switch/Switch.module.css",
      "type": "registry:styles",
      "content": "/**\n * Switch Component Styles\n *\n * Toggle switch for boolean settings.\n * Implements WCAG 2.1 AA accessibility guidelines.\n */\n\n/* ============================================================================\n * CONTAINER\n * ============================================================================ */\n\n.container {\n  display: inline-flex;\n  flex-direction: column;\n  gap: var(--spacing-1);\n}\n\n.disabled {\n  opacity: 0.5;\n}\n\n/* ============================================================================\n * LABEL WRAPPER (clickable area)\n * ============================================================================ */\n\n.labelWrapper {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--spacing-3);\n  cursor: pointer;\n  user-select: none;\n}\n\n.disabled .labelWrapper {\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n/* ============================================================================\n * HIDDEN INPUT\n * ============================================================================ */\n\n.input {\n  position: absolute;\n  opacity: 0;\n  width: 0;\n  height: 0;\n  pointer-events: none;\n}\n\n/* ============================================================================\n * SWITCH TRACK (iOS style)\n * ============================================================================ */\n\n.track {\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n\n  /* Default size (sm) */\n  width: 42px;\n  height: 26px;\n\n  /* iOS-style off state: light gray */\n  background: var(--surface-subtle);\n  border: none;\n  border-radius: var(--radius-full);\n\n  /* Interaction */\n  transition: background-color 0.2s ease-in-out;\n}\n\n/* ============================================================================\n * SWITCH THUMB (iOS style)\n * Always white with subtle shadow\n * ============================================================================ */\n\n.thumb {\n  position: absolute;\n  left: 2px;\n  width: 22px;\n  height: 22px;\n  background: var(--color-neutral-0);\n  border-radius: 50%;\n  box-shadow: var(--shadow-sm);\n  transition: transform 0.2s ease-in-out;\n}\n\n/* ============================================================================\n * SIZES (iOS proportions)\n * ============================================================================ */\n\n/* Small size */\n.sm .track {\n  width: 42px;\n  height: 26px;\n}\n\n.sm .thumb {\n  width: 22px;\n  height: 22px;\n  left: 2px;\n}\n\n/* Medium size (default - matches iOS) */\n.md .track {\n  width: 51px;\n  height: 31px;\n}\n\n.md .thumb {\n  width: 27px;\n  height: 27px;\n  left: 2px;\n}\n\n/* Large size */\n.lg .track {\n  width: 60px;\n  height: 36px;\n}\n\n.lg .thumb {\n  width: 32px;\n  height: 32px;\n  left: 2px;\n}\n\n/* ============================================================================\n * CHECKED STATE\n * ============================================================================ */\n\n.input:checked + .labelWrapper .track {\n  background: var(--interactive-primary);\n}\n\n.input:checked + .labelWrapper .thumb {\n  background: var(--color-neutral-0);\n}\n\n/* Thumb position when checked - by size */\n.sm .input:checked + .labelWrapper .thumb {\n  transform: translateX(16px);\n}\n\n.md .input:checked + .labelWrapper .thumb {\n  transform: translateX(20px);\n}\n\n.lg .input:checked + .labelWrapper .thumb {\n  transform: translateX(24px);\n}\n\n/* ============================================================================\n * HOVER STATE\n * ============================================================================ */\n\n.labelWrapper:hover .track {\n  background: var(--surface-layer);\n}\n\n.input:checked + .labelWrapper:hover .track {\n  background: var(--interactive-primary-hover);\n}\n\n/* ============================================================================\n * FOCUS STATE\n * ============================================================================ */\n\n.input:focus-visible + .labelWrapper .track {\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: 2px;\n  box-shadow: 0 0 0 4px var(--soft-brand);\n}\n\n/* ============================================================================\n * DISABLED STATE\n * ============================================================================ */\n\n.input:disabled + .labelWrapper {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n.input:disabled + .labelWrapper .track {\n  background: var(--border-subtle);\n}\n\n.input:disabled + .labelWrapper .thumb {\n  background: var(--color-neutral-0);\n  box-shadow: var(--shadow-flat);\n}\n\n.input:disabled:checked + .labelWrapper .track {\n  background: var(--interactive-primary);\n  opacity: 0.5;\n}\n\n.input:disabled:checked + .labelWrapper .thumb {\n  background: var(--color-neutral-0);\n}\n\n/* ============================================================================\n * ERROR STATE\n * ============================================================================ */\n\n.error .track {\n  box-shadow: inset 0 0 0 2px var(--status-error);\n}\n\n.error .labelWrapper:hover .track {\n  box-shadow: inset 0 0 0 2px var(--status-error);\n}\n\n.error .input:focus-visible + .labelWrapper .track {\n  outline-color: var(--status-error);\n  box-shadow:\n    inset 0 0 0 2px var(--status-error),\n    0 0 0 4px var(--soft-error);\n}\n\n/* ============================================================================\n * LABEL & TEXT\n * ============================================================================ */\n\n.label {\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-14);\n  font-weight: var(--font-weight-normal);\n  color: var(--text-primary);\n  line-height: 1.4;\n}\n\n.sm .label {\n  font-size: var(--font-size-13);\n}\n\n.lg .label {\n  font-size: var(--font-size-16);\n}\n\n.required {\n  color: var(--status-error);\n  margin-left: 2px;\n}\n\n/* Helper text - aligned with label */\n.helperText {\n  margin: 0;\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-12);\n  color: var(--text-secondary);\n  line-height: var(--line-height-snug);\n  padding-left: calc(42px + var(--spacing-3)); /* track width + gap */\n}\n\n.md .helperText {\n  padding-left: calc(51px + var(--spacing-3));\n}\n\n.lg .helperText {\n  padding-left: calc(60px + var(--spacing-3));\n}\n\n/* Error message */\n.errorMessage {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-1);\n  margin: 0;\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-12);\n  color: var(--status-error);\n  line-height: var(--line-height-snug);\n  padding-left: calc(42px + var(--spacing-3));\n}\n\n.md .errorMessage {\n  padding-left: calc(51px + var(--spacing-3));\n}\n\n.lg .errorMessage {\n  padding-left: calc(60px + var(--spacing-3));\n}\n\n/* ============================================================================\n * HIGH CONTRAST MODE SUPPORT\n * ============================================================================ */\n\n@media (forced-colors: active) {\n  .track {\n    background: Canvas;\n    border: 2px solid CanvasText;\n  }\n\n  .thumb {\n    background: CanvasText;\n  }\n\n  .input:checked + .labelWrapper .track {\n    background: Highlight;\n    border-color: Highlight;\n  }\n\n  .input:checked + .labelWrapper .thumb {\n    background: Canvas;\n  }\n\n  .input:focus-visible + .labelWrapper .track {\n    outline: 3px solid Highlight;\n    outline-offset: 2px;\n  }\n\n  .input:disabled + .labelWrapper .track {\n    border-color: GrayText;\n    background: Canvas;\n  }\n\n  .input:disabled + .labelWrapper .thumb {\n    background: GrayText;\n  }\n\n  .error .track {\n    border-color: LinkText;\n  }\n\n  .errorMessage {\n    color: LinkText;\n  }\n\n  .label {\n    color: CanvasText;\n  }\n}\n\n/* ============================================================================\n * REDUCED MOTION\n * ============================================================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .track,\n  .thumb {\n    transition: none;\n  }\n}\n"
    },
    {
      "path": "packages/react/src/components/Switch/index.ts",
      "type": "registry:index",
      "content": "/**\n * Switch Component - Toggle for on/off states.\n *\n * @example\n * ```tsx\n * import { Switch } from '@orion-ds/react';\n *\n * <Switch label=\"Enable notifications\" />\n * <Switch label=\"Dark mode\" checked={isDark} onChange={setIsDark} />\n * <Switch label=\"Feature flag\" size=\"sm\" disabled />\n * ```\n */\nexport { Switch } from './Switch';\nexport type { SwitchProps, SwitchSize } from './Switch.types';\n"
    }
  ],
  "props": [
    {
      "name": "label",
      "type": "string",
      "description": "Switch label text."
    },
    {
      "name": "size",
      "type": "SwitchSize",
      "description": "Switch size variant.",
      "default": "sm",
      "values": [
        "sm",
        "md",
        "lg"
      ]
    },
    {
      "name": "helperText",
      "type": "string",
      "description": "Helper text displayed below the switch."
    },
    {
      "name": "error",
      "type": "string",
      "description": "Error message."
    },
    {
      "name": "aria-label",
      "type": "string",
      "description": "Accessible label for screen readers when no visible label is provided.",
      "required": true
    },
    {
      "name": "aria-describedby",
      "type": "string",
      "description": "Additional element IDs that describe this switch.",
      "required": true
    }
  ],
  "tokens": [
    "--interactive-primary",
    "--surface-layer",
    "--radius-full"
  ],
  "examples": [
    {
      "title": "Basic switch",
      "code": "<Switch label=\"Enable notifications\" checked={enabled} onChange={setEnabled} />"
    }
  ],
  "accessibility": {
    "role": "switch",
    "ariaAttributes": [
      "aria-checked",
      "aria-label"
    ],
    "keyboardNav": [
      {
        "key": "Space",
        "action": "Toggle switch"
      }
    ]
  },
  "modeAware": false,
  "preview": {
    "url": "https://orion-ds.dev/library.html#switch",
    "local": "/library.html#switch"
  },
  "import": "import { Switch } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
