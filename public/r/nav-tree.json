{
  "$schema": "https://orion-ds.dev/schema/registry-item.json",
  "name": "nav-tree",
  "type": "registry:section",
  "title": "NavTree",
  "description": "NavTree section component",
  "category": "app",
  "files": [
    {
      "path": "packages/react/src/sections/NavTree/NavTree.tsx",
      "type": "registry:component",
      "content": "/**\n * NavTree Component\n *\n * A Notion-style hierarchical navigation sidebar with collapsible sections,\n * folders, pages, and per-row context menu actions.\n *\n * @example\n * ```tsx\n * import { NavTree } from '@orion-ds/react/sections';\n *\n * const sections = [\n *   {\n *     id: 'essentials',\n *     title: 'Lo esencial',\n *     nodes: [\n *       { id: 'home', type: 'page', label: 'Home', href: '/' },\n *       {\n *         id: 'docs',\n *         type: 'folder',\n *         label: 'Documentation',\n *         children: [\n *           { id: 'guide', type: 'page', label: 'Getting Started', href: '/docs' }\n *         ]\n *       }\n *     ]\n *   }\n * ];\n *\n * function App() {\n *   return (\n *     <NavTree\n *       sections={sections}\n *       activeNodeId=\"home\"\n *       onNodeClick={(node) => navigate(node.href!)}\n *       actions={{\n *         onDelete: (nodeId) => console.log('delete', nodeId)\n *       }}\n *       header={<Logo />}\n *     />\n *   );\n * }\n * ```\n */\n\nimport {\n  createContext,\n  useContext,\n  forwardRef,\n  CSSProperties,\n  useMemo,\n} from 'react';\nimport { ChevronRight, Plus, MoreHorizontal, Copy, FolderSymlink, Pencil, Trash2 } from 'lucide-react';\nimport { useLocalStorage } from '../../hooks/useLocalStorage';\nimport { Collapsible } from '../../components/Collapsible';\nimport { Dropdown } from '../../components/Dropdown';\nimport { Button } from '../../components/Button';\nimport type {\n  NavTreeProps,\n  NavTreeNode,\n  NavTreeSection,\n  NavTreeContextValue,\n} from './NavTree.types';\nimport type { DropdownItem } from '../../components/Dropdown';\nimport styles from './NavTree.module.css';\n\n/* ============================================================================\n   NavTreeContext\n   ============================================================================ */\n\nconst NavTreeContext = createContext<NavTreeContextValue | undefined>(undefined);\n\nfunction useNavTreeContext() {\n  const context = useContext(NavTreeContext);\n  if (!context) {\n    throw new Error('useNavTreeContext must be used within NavTree');\n  }\n  return context;\n}\n\n/* ============================================================================\n   NavTree (Root Component)\n   ============================================================================ */\n\n/**\n * Notion-style navigation tree component\n */\nexport const NavTree = forwardRef<HTMLDivElement, NavTreeProps>(\n  (\n    {\n      sections,\n      activeNodeId,\n      onNodeClick,\n      actions,\n      persistKey = 'orion-nav-tree',\n      header,\n      footer,\n      width = 240,\n      className,\n      headless = false,\n    },\n    ref,\n  ) => {\n    // Initialize localStorage for open sections and nodes\n    const defaultOpenSections = useMemo(\n      () =>\n        sections\n          .filter((s) => s.defaultExpanded !== false)\n          .map((s) => s.id),\n      [sections],\n    );\n\n    const [openSectionIds, setOpenSectionIds] = useLocalStorage<string[]>(\n      `${persistKey}-sections`,\n      defaultOpenSections,\n    );\n\n    const [openNodeIds, setOpenNodeIds] = useLocalStorage<string[]>(\n      `${persistKey}-nodes`,\n      [],\n    );\n\n    const toggleSection = (id: string) => {\n      setOpenSectionIds((prev) =>\n        prev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id],\n      );\n    };\n\n    const toggleNode = (id: string) => {\n      setOpenNodeIds((prev) =>\n        prev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id],\n      );\n    };\n\n    const isOpen = (id: string) => {\n      if (id.startsWith('section-')) {\n        return openSectionIds.includes(id.replace('section-', ''));\n      }\n      return openNodeIds.includes(id);\n    };\n\n    const contextValue: NavTreeContextValue = {\n      activeNodeId,\n      openSectionIds,\n      openNodeIds,\n      toggleSection,\n      toggleNode,\n      isOpen,\n      onNodeClick,\n      actionConfig: actions,\n    };\n\n    const navTreeStyle: CSSProperties = {\n      width: typeof width === 'number' ? `${width}px` : width,\n    };\n\n    // Collect all root nodes when in headless mode\n    const allRootNodes = headless\n      ? sections.flatMap((section) => section.nodes)\n      : [];\n\n    const isEmpty = headless ? allRootNodes.length === 0 : sections.length === 0;\n    const emptyMessage = headless ? 'No nodes' : 'No sections';\n\n    return (\n      <div\n        ref={ref}\n        className={`${styles.navTree} ${className || ''}`}\n        style={navTreeStyle}\n        role=\"tree\"\n      >\n        {header && <div className={styles.header}>{header}</div>}\n\n        <div className={styles.treeContent}>\n          <NavTreeContext.Provider value={contextValue}>\n            {isEmpty ? (\n              <div className={styles.empty}>{emptyMessage}</div>\n            ) : headless ? (\n              // Headless mode: render root nodes directly without section headers\n              allRootNodes.map((node) => (\n                <NavTreeNodeRow\n                  key={node.id}\n                  node={node}\n                  depth={0}\n                  sectionId=\"\" // No section context in headless mode\n                />\n              ))\n            ) : (\n              // Normal mode: render sections with collapsible headers\n              sections.map((section) => (\n                <NavTreeSectionBlock key={section.id} section={section} />\n              ))\n            )}\n          </NavTreeContext.Provider>\n        </div>\n\n        {footer && <div className={styles.footer}>{footer}</div>}\n      </div>\n    );\n  },\n);\n\nNavTree.displayName = 'NavTree';\n\n/* ============================================================================\n   NavTreeSectionBlock (Section with Collapsible Header)\n   ============================================================================ */\n\ninterface NavTreeSectionBlockProps {\n  section: NavTreeSection;\n}\n\nfunction NavTreeSectionBlock({ section }: NavTreeSectionBlockProps) {\n  const { isOpen, toggleSection, actionConfig } = useNavTreeContext();\n  const sectionId = `section-${section.id}`;\n  const open = isOpen(sectionId);\n  const variant = section.variant ?? 'node'; // Default to 'node'\n\n  const handleSectionAdd = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    actionConfig?.onAdd?.(null, section.id);\n  };\n\n  const titleClass =\n    variant === 'node' ? styles.sectionTitleNode : styles.sectionTitle;\n  const headerClass = `${styles.sectionHeader} ${variant === 'node' ? styles.sectionHeaderNode : ''}`.trim();\n\n  return (\n    <div className={styles.section} role=\"group\">\n      <Collapsible\n        open={open}\n        onOpenChange={() => toggleSection(section.id)}\n        disabled={section.nodes.length === 0}\n      >\n        <Collapsible.Trigger asChild>\n          <div className={headerClass}>\n            {section.icon ? (\n              <div className={styles.iconSlot}>\n                <span className={styles.slotIcon}>{section.icon}</span>\n                {section.nodes.length > 0 && (\n                  <div\n                    className={`${styles.slotChevron} ${open ? styles.slotChevronOpen : ''}`}\n                  >\n                    <ChevronRight size={16} />\n                  </div>\n                )}\n              </div>\n            ) : (\n              section.nodes.length > 0 && (\n                <ChevronRight\n                  size={12}\n                  className={`${styles.sectionChevron} ${open ? styles.sectionChevronOpen : ''}`}\n                />\n              )\n            )}\n            <span className={titleClass}>{section.title}</span>\n            {section.badge !== undefined && (\n              <span className={styles.sectionBadge}>{section.badge}</span>\n            )}\n            <div className={styles.sectionActions}>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                iconOnly\n                icon={<Plus size={12} />}\n                onClick={handleSectionAdd}\n                aria-label={`Agregar página en ${section.title}`}\n                title={`Agregar página en ${section.title}`}\n              />\n            </div>\n          </div>\n        </Collapsible.Trigger>\n\n        <Collapsible.Content>\n          <div className={styles.sectionBody}>\n            {section.nodes.map((node) => (\n              <NavTreeNodeRow\n                key={node.id}\n                node={node}\n                depth={0}\n                sectionId={section.id}\n              />\n            ))}\n          </div>\n        </Collapsible.Content>\n      </Collapsible>\n    </div>\n  );\n}\n\n/* ============================================================================\n   NavTreeNodeRow (Recursive Node with Folder/Page Logic)\n   ============================================================================ */\n\ninterface NavTreeNodeRowProps {\n  node: NavTreeNode;\n  depth: number;\n  sectionId: string;\n}\n\nfunction NavTreeNodeRow({ node, depth, sectionId }: NavTreeNodeRowProps) {\n  const {\n    activeNodeId,\n    isOpen,\n    toggleNode,\n    onNodeClick,\n    actionConfig,\n  } = useNavTreeContext();\n\n  const isFolder = node.type === 'folder';\n  const hasChildren = isFolder && node.children && node.children.length > 0;\n  const open = isOpen(node.id);\n  const isActive = activeNodeId === node.id;\n\n  const handleRowClick = () => {\n    if (isFolder) {\n      toggleNode(node.id);\n    } else if (onNodeClick) {\n      onNodeClick(node);\n    }\n  };\n\n  const handleAddClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    actionConfig?.onAdd?.(isFolder ? node.id : null, sectionId);\n  };\n\n  // Build dropdown menu items\n  const dropdownItems: DropdownItem[] = [\n    {\n      id: 'rename',\n      label: 'Renombrar',\n      icon: <Pencil size={14} />,\n      onClick: () => actionConfig?.onRename?.(node.id),\n    },\n    {\n      id: 'duplicate',\n      label: 'Duplicar',\n      icon: <Copy size={14} />,\n      onClick: () => actionConfig?.onDuplicate?.(node.id),\n    },\n    {\n      id: 'move',\n      label: 'Mover a…',\n      icon: <FolderSymlink size={14} />,\n      onClick: () => actionConfig?.onMove?.(node.id),\n    },\n    {\n      id: 'delete',\n      label: 'Eliminar',\n      icon: <Trash2 size={14} />,\n      danger: true,\n      onClick: () => actionConfig?.onDelete?.(node.id),\n    },\n  ];\n\n  // Add custom actions if provided\n  if (actionConfig?.getCustomActions) {\n    const customActions = actionConfig.getCustomActions(node);\n    dropdownItems.push(...customActions);\n  }\n\n  const nodePaddingStyle: CSSProperties = {\n    paddingLeft: `calc(var(--spacing-2) * ${depth + 1})`,\n  };\n\n  return (\n    <div className={styles.node} role=\"treeitem\" aria-expanded={isFolder && open}>\n      <div\n        className={`${styles.nodeRow} ${isActive ? styles.nodeRowActive : ''} ${depth > 0 ? styles.nodeNested : ''}`}\n        onClick={handleRowClick}\n        style={nodePaddingStyle}\n        tabIndex={0}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            handleRowClick();\n          }\n        }}\n      >\n        {node.icon ? (\n          isFolder ? (\n            <div className={styles.iconSlot}>\n              <span className={styles.slotIcon}>{node.icon}</span>\n              {hasChildren && (\n                <div\n                  className={`${styles.slotChevron} ${open ? styles.slotChevronOpen : ''}`}\n                >\n                  <ChevronRight size={16} />\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className={styles.iconSlot}>\n              <span className={styles.slotIcon}>{node.icon}</span>\n            </div>\n          )\n        ) : isFolder ? (\n          <ChevronRight\n            size={12}\n            className={`${styles.nodeChevron} ${open ? styles.nodeChevronOpen : ''}`}\n          />\n        ) : (\n          <div className={styles.nodeChevronHidden} />\n        )}\n\n        <span className={styles.nodeLabel}>{node.label}</span>\n\n        {node.badge !== undefined && (\n          <span className={styles.nodeBadge}>{node.badge}</span>\n        )}\n\n        <div className={styles.nodeActions}>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            iconOnly\n            icon={<Plus size={14} />}\n            onClick={handleAddClick}\n            aria-label={`Agregar página en ${node.label}`}\n            title={`Agregar página en ${node.label}`}\n          />\n\n          <Dropdown\n            trigger={\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                iconOnly\n                icon={<MoreHorizontal size={14} />}\n                aria-label=\"Más acciones\"\n                title=\"Más acciones\"\n              />\n            }\n            items={dropdownItems}\n            placement=\"bottom-end\"\n            minWidth={160}\n          />\n        </div>\n      </div>\n\n      {/* Render children if folder is open */}\n      {isFolder && open && hasChildren && (\n        <div className={styles.nodeChildren}>\n          {node.children!.map((child) => (\n            <NavTreeNodeRow\n              key={child.id}\n              node={child}\n              depth={depth + 1}\n              sectionId={sectionId}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"
    },
    {
      "path": "packages/react/src/sections/NavTree/NavTree.types.ts",
      "type": "registry:types",
      "content": "/**\n * NavTree Types\n *\n * Type definitions for the Notion-style hierarchical navigation sidebar.\n * Supports collapsible sections with nested folders and pages, context menus,\n * and localStorage persistence of expanded/collapsed states.\n */\n\nimport type { ReactNode } from 'react';\nimport type { DropdownItem } from '../../components/Dropdown';\n\n/**\n * Node type discriminator\n */\nexport type NavTreeNodeType = 'page' | 'folder';\n\n/**\n * Section header visual variant\n */\nexport type NavTreeSectionVariant = 'node' | 'label';\n\n/**\n * A node in the navigation tree (page or folder)\n *\n * @example\n * ```tsx\n * const node: NavTreeNode = {\n *   id: 'getting-started',\n *   type: 'page',\n *   label: 'Getting Started',\n *   icon: <Rocket size={16} />,\n *   href: '/docs/getting-started'\n * };\n *\n * const folder: NavTreeNode = {\n *   id: 'components',\n *   type: 'folder',\n *   label: 'Components',\n *   icon: <Package size={16} />,\n *   children: [pageNode1, pageNode2]\n * };\n * ```\n */\nexport interface NavTreeNode {\n  /** Unique identifier within the section */\n  id: string;\n\n  /** Node type: 'page' (leaf) or 'folder' (container) */\n  type: NavTreeNodeType;\n\n  /** Display label */\n  label: string;\n\n  /** Optional Lucide icon (16px recommended) */\n  icon?: ReactNode;\n\n  /** Optional navigation href (for pages) */\n  href?: string;\n\n  /** Optional badge or counter (e.g., unread count, item count) */\n  badge?: number | string;\n\n  /** Child nodes (folders only, but not enforced) */\n  children?: NavTreeNode[];\n}\n\n/**\n * A top-level collapsible section containing nodes\n *\n * @example\n * ```tsx\n * const section: NavTreeSection = {\n *   id: 'essentials',\n *   title: 'Lo esencial',\n *   defaultExpanded: true,\n *   nodes: [\n *     { id: 'home', type: 'page', label: 'Home', href: '/' },\n *     { id: 'docs', type: 'folder', label: 'Documentation', children: [...] }\n *   ]\n * };\n * ```\n */\nexport interface NavTreeSection {\n  /** Unique section identifier */\n  id: string;\n\n  /** Section title (displayed in header) */\n  title: string;\n\n  /** Section header visual variant (default: 'node') */\n  variant?: NavTreeSectionVariant;\n\n  /** Optional icon displayed next to section title */\n  icon?: ReactNode;\n\n  /** Optional badge or counter displayed on section header */\n  badge?: number | string;\n\n  /** Root-level nodes in this section */\n  nodes: NavTreeNode[];\n\n  /** Whether section is expanded by default (default: true) */\n  defaultExpanded?: boolean;\n}\n\n/**\n * Action configuration callbacks for tree mutations\n */\nexport interface NavTreeActionConfig {\n  /** Add new node: parentId is null for root, sectionId identifies the section */\n  onAdd?: (parentId: string | null, sectionId: string) => void;\n\n  /** Rename a node */\n  onRename?: (nodeId: string) => void;\n\n  /** Duplicate a node */\n  onDuplicate?: (nodeId: string) => void;\n\n  /** Move a node to a different location */\n  onMove?: (nodeId: string) => void;\n\n  /** Delete a node */\n  onDelete?: (nodeId: string) => void;\n\n  /** Get custom dropdown actions (merged with standard ones) */\n  getCustomActions?: (node: NavTreeNode) => DropdownItem[];\n}\n\n/**\n * Root props for the NavTree component\n */\nexport interface NavTreeProps {\n  /** Array of collapsible sections */\n  sections: NavTreeSection[];\n\n  /** ID of the currently active node (highlighted) */\n  activeNodeId?: string;\n\n  /** Callback when a node row is clicked (for page navigation) */\n  onNodeClick?: (node: NavTreeNode) => void;\n\n  /** Action callbacks for tree mutations */\n  actions?: NavTreeActionConfig;\n\n  /** localStorage key prefix (default: 'orion-nav-tree') */\n  persistKey?: string;\n\n  /** Header slot (e.g. workspace logo/switcher) */\n  header?: ReactNode;\n\n  /** Footer slot (e.g. UserMenu) */\n  footer?: ReactNode;\n\n  /** Sidebar width - number (pixels), or string (e.g. \"20%\", \"clamp(200px, 25vw, 320px)\") (default: 240) */\n  width?: number | string;\n\n  /** Additional CSS class */\n  className?: string;\n\n  /** Render nodes directly without section headers (default: false) */\n  headless?: boolean;\n}\n\n/**\n * Internal context value shared across NavTree components\n * (not exported publicly)\n */\nexport interface NavTreeContextValue {\n  activeNodeId?: string;\n  openSectionIds: string[];\n  openNodeIds: string[];\n  toggleSection: (id: string) => void;\n  toggleNode: (id: string) => void;\n  isOpen: (id: string) => boolean;\n  onNodeClick?: (node: NavTreeNode) => void;\n  onNodeAdd?: (parentId: string | null, sectionId: string) => void;\n  actionConfig?: NavTreeActionConfig;\n  depth?: number; // for internal tracking\n}\n"
    },
    {
      "path": "packages/react/src/sections/NavTree/NavTree.module.css",
      "type": "registry:styles",
      "content": "/**\n * NavTree Styles\n *\n * Notion-style navigation tree with collapsible sections, folders, and pages.\n * Uses Orion semantic tokens for theme-aware styling (light/dark mode).\n */\n\n/* ============================================================================\n   Root Container\n   ============================================================================ */\n\n.navTree {\n  width: 100%;\n  height: 100%;\n  background: var(--surface-base);\n  border-right: 1px solid var(--border-subtle);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  font-family: var(--font-secondary);\n  font-size: var(--font-size-14);\n  color: var(--text-secondary);\n}\n\n/* ============================================================================\n   Header and Footer Slots\n   ============================================================================ */\n\n.header {\n  flex-shrink: 0;\n  padding: var(--spacing-4);\n  border-bottom: 1px solid var(--border-subtle);\n  background: var(--surface-base);\n}\n\n.footer {\n  flex-shrink: 0;\n  padding: var(--spacing-4);\n  border-top: 1px solid var(--border-subtle);\n  background: var(--surface-base);\n}\n\n/* ============================================================================\n   Scrollable Content Area\n   ============================================================================ */\n\n.treeContent {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: var(--spacing-2);\n}\n\n/* Scrollbar styling (webkit browsers) */\n.treeContent::-webkit-scrollbar {\n  width: 4px;\n}\n\n.treeContent::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.treeContent::-webkit-scrollbar-thumb {\n  background: var(--border-strong);\n  border-radius: 4px;\n}\n\n.treeContent::-webkit-scrollbar-thumb:hover {\n  background: var(--border-interactive);\n}\n\n/* ============================================================================\n   Section Styles\n   ============================================================================ */\n\n.section {\n  margin-bottom: var(--spacing-1);\n}\n\n/* Collapsible trigger wrapper */\n.sectionHeader {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-2);\n  padding: var(--spacing-1) var(--spacing-3);\n  cursor: pointer;\n  border-radius: var(--radius-sm);\n  user-select: none;\n  transition: background-color var(--transition-fast),\n    color var(--transition-fast);\n  position: relative;\n}\n\n.sectionHeader:hover {\n  background: var(--surface-subtle);\n  color: var(--text-primary);\n}\n\n/* Section header — variant: node (matches nodeRow padding) */\n.sectionHeaderNode {\n  padding: var(--spacing-1) var(--spacing-2) var(--spacing-1) var(--spacing-2);\n}\n\n/* Chevron icon in section header */\n.sectionChevron {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-tertiary);\n  transition: transform var(--transition-fast);\n  flex-shrink: 0;\n  width: 20px;\n  height: 20px;\n}\n\n/* Chevron rotates 90deg when open */\n.sectionChevronOpen {\n  transform: rotate(90deg);\n}\n\n/* Section title styling */\n.sectionTitle {\n  font-size: var(--font-size-10);\n  font-weight: var(--font-weight-medium);\n  color: var(--text-tertiary);\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  user-select: none;\n}\n\n/* Section title — variant: node (looks like folder node) */\n.sectionTitleNode {\n  font-size: var(--font-size-14);\n  font-weight: var(--font-weight-semibold);\n  color: var(--text-primary);\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  user-select: none;\n}\n\n/* Section body (collapsible content) */\n.sectionBody {\n  display: flex;\n  flex-direction: column;\n}\n\n/* Section actions (+ button on hover) */\n.sectionActions {\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-05);\n  opacity: 0;\n  transition: opacity var(--transition-fast);\n  pointer-events: none;\n  padding-left: var(--spacing-8);\n  /* Gradient fade: blends with section header background */\n  background: linear-gradient(to right, transparent, var(--surface-base) 40%);\n}\n\n.sectionHeader:hover .sectionActions,\n.sectionHeader:focus-within .sectionActions {\n  opacity: 1;\n  pointer-events: auto;\n  /* On hover, section header background is --surface-subtle */\n  background: linear-gradient(to right, transparent, var(--surface-subtle) 40%);\n}\n\n/* ============================================================================\n   Node Styles (Page and Folder)\n   ============================================================================ */\n\n.node {\n  position: relative;\n}\n\n/* Node row (the interactive line) */\n.nodeRow {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-2);\n  min-height: var(--spacing-8);\n  padding: var(--spacing-1) var(--spacing-2) var(--spacing-1) 0;\n  border-radius: var(--radius-sm);\n  cursor: pointer;\n  transition:\n    background-color var(--mode-hover-duration),\n    color var(--mode-hover-duration);\n  user-select: none;\n  position: relative;\n}\n\n.nodeRow:hover {\n  background: var(--surface-subtle);\n  color: var(--text-primary);\n}\n\n/* Active node (current page) — soft brand background */\n.nodeRowActive {\n  background: var(--color-brand-soft);\n}\n\n.nodeRowActive:hover {\n  background: var(--color-brand-soft-hover);\n}\n\n.nodeRowActive .nodeLabel {\n  color: var(--text-brand);\n  font-weight: var(--font-weight-medium);\n}\n\n.nodeRowActive .nodeIcon,\n.nodeRowActive .nodeChevron {\n  color: var(--text-brand);\n}\n\n/* Chevron toggle (for folders) */\n.nodeChevron {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-tertiary);\n  transition: transform var(--transition-fast);\n  flex-shrink: 0;\n  width: 20px;\n  height: 20px;\n}\n\n.nodeChevronOpen {\n  transform: rotate(90deg);\n}\n\n/* Hidden chevron space (for pages that don't have a chevron) */\n.nodeChevronHidden {\n  width: 20px;\n  flex-shrink: 0;\n  opacity: 0;\n  pointer-events: none;\n}\n\n/* Node icon (folder or page icon) */\n.nodeIcon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  color: var(--text-tertiary);\n  width: 20px;\n  height: 20px;\n}\n\n/* Node label text */\n.nodeLabel {\n  flex: 1;\n  font-size: var(--font-size-14);\n  color: var(--text-secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  min-width: 0;\n  user-select: none;\n}\n\n/* ============================================================================\n   Hover Actions (+ and ...)\n   ============================================================================ */\n\n.nodeActions {\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-05);\n  opacity: 0;\n  transition: opacity var(--transition-fast);\n  pointer-events: none;\n  padding-left: var(--spacing-8);\n  /* Default: gradient fades with base background */\n  background: linear-gradient(to right, transparent, var(--surface-base) 40%);\n}\n\n/* Show actions on hover or focus-within */\n.nodeRow:hover .nodeActions,\n.nodeRow:focus-within .nodeActions {\n  opacity: 1;\n  pointer-events: auto;\n  /* On hover: gradient fades with subtle background */\n  background: linear-gradient(to right, transparent, var(--surface-subtle) 40%);\n}\n\n/* Active node: gradient fades with brand background */\n.nodeRowActive .nodeActions {\n  background: linear-gradient(to right, transparent, var(--color-brand-soft) 40%);\n}\n\n/* ============================================================================\n   Node Children (Nested Nodes)\n   ============================================================================ */\n\n.nodeChildren {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  border-left: 1px solid var(--border-subtle);\n  margin-left: var(--spacing-3);\n  /* paddingLeft applied inline via style prop based on depth */\n}\n\n/* Nested node styling — smaller font */\n.nodeNested .nodeLabel {\n  font-size: var(--font-size-13);\n}\n\n/* ============================================================================\n   Badges and Icons\n   ============================================================================ */\n\n/* Icon slot: shared container for icon and chevron (one appears on hover) */\n.iconSlot {\n  position: relative;\n  width: 20px;\n  height: 20px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* Icon inside slot: visible by default, hidden on hover */\n.slotIcon {\n  position: absolute;\n  inset: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity var(--transition-fast);\n  opacity: 1;\n}\n\n/* Chevron inside slot: hidden by default, visible on hover */\n.slotChevron {\n  position: absolute;\n  inset: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-tertiary);\n  transition: opacity var(--transition-fast), transform var(--transition-fast);\n  opacity: 0;\n}\n\n/* Chevron rotated when open */\n.slotChevronOpen {\n  transform: rotate(90deg);\n}\n\n/* Swap on hover: icon fades out, chevron fades in */\n/* Only apply swap when chevron is present (colapsable elements) */\n.sectionHeader:has(.slotChevron):hover .slotIcon,\n.nodeRow:has(.slotChevron):hover .slotIcon {\n  opacity: 0;\n}\n\n.sectionHeader:has(.slotChevron):hover .slotChevron,\n.nodeRow:has(.slotChevron):hover .slotChevron {\n  opacity: 1;\n}\n\n/* Section icon */\n.sectionIcon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-tertiary);\n  flex-shrink: 0;\n  width: 16px;\n  height: 16px;\n}\n\n/* Section icon — variant: node (matches nodeIcon size: 20px) */\n.sectionIconNode {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-primary);\n  flex-shrink: 0;\n  width: 20px;\n  height: 20px;\n}\n\n/* Section badge (item count) */\n.sectionBadge {\n  font-size: var(--font-size-11);\n  font-family: var(--font-secondary);\n  color: var(--text-tertiary);\n  background: var(--surface-layer);\n  border-radius: var(--radius-full);\n  padding: 0 var(--spacing-1);\n  min-width: 18px;\n  text-align: center;\n  flex-shrink: 0;\n  margin-right: auto;\n  margin-left: var(--spacing-2);\n}\n\n/* Node badge */\n.nodeBadge {\n  font-size: var(--font-size-11);\n  font-family: var(--font-secondary);\n  color: var(--text-tertiary);\n  background: var(--surface-layer);\n  border-radius: var(--radius-full);\n  padding: 0 var(--spacing-1);\n  min-width: 18px;\n  text-align: center;\n  flex-shrink: 0;\n  margin-left: auto;\n}\n\n/* ============================================================================\n   Empty State\n   ============================================================================ */\n\n.empty {\n  padding: var(--spacing-4) var(--spacing-3);\n  text-align: center;\n  color: var(--text-tertiary);\n  font-size: var(--font-size-12);\n}\n\n/* ============================================================================\n   Accessibility: Focus Visible\n   ============================================================================ */\n\n.nodeRow:focus-visible {\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: -2px;\n}\n\n.sectionHeader:focus-visible {\n  outline: 2px solid var(--interactive-primary);\n  outline-offset: -2px;\n}\n"
    },
    {
      "path": "packages/react/src/sections/NavTree/index.ts",
      "type": "registry:index",
      "content": "/**\n * @orion/react NavTree Section\n *\n * Notion-style hierarchical navigation sidebar with collapsible sections,\n * folders, pages, and context menu actions.\n *\n * @example\n * ```tsx\n * import { NavTree } from '@orion-ds/react/sections';\n *\n * <NavTree\n *   sections={[\n *     {\n *       id: 'main',\n *       title: 'Navigation',\n *       nodes: [\n *         { id: 'home', type: 'page', label: 'Home', href: '/' }\n *       ]\n *     }\n *   ]}\n *   onNodeClick={(node) => navigate(node.href!)}\n * />\n * ```\n */\n\nexport { NavTree } from './NavTree';\nexport type {\n  NavTreeProps,\n  NavTreeNode,\n  NavTreeNodeType,\n  NavTreeSection,\n  NavTreeActionConfig,\n  NavTreeContextValue,\n} from './NavTree.types';\n"
    }
  ],
  "preview": {
    "url": "https://orion-ds.dev/library.html#nav-tree",
    "local": "/library.html#nav-tree"
  },
  "import": "import { NavTree } from '@orion-ds/react'",
  "cssImport": "import '@orion-ds/react/styles.css'"
}
