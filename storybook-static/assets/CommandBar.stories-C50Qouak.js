import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as a}from"./index-Bi6L2ga8.js";import{S as T}from"./search-BC3UyaPv.js";import{C as W}from"./command-B8WBBiYM.js";import{H as z}from"./house-Bwi52rpT.js";import{F as E}from"./folder-CYs5hHy8.js";import{U as $}from"./users-B3aIcKNm.js";import{S as v}from"./settings-DVkWYkkM.js";import{F as G}from"./file-text-3QR_BDt1.js";import{P as U}from"./plus-_oTOY7dX.js";import{D as V}from"./download-B1IGscQm.js";import"./createLucideIcon-DprCCbyf.js";const J="_overlay_1qwde_8",Q="_commandBar_1qwde_29",X="_inputWrapper_1qwde_55",Y="_searchIcon_1qwde_63",Z="_input_1qwde_55",ee="_shortcutHint_1qwde_82",te="_results_1qwde_96",ne="_empty_1qwde_102",se="_group_1qwde_114",oe="_groupTitle_1qwde_122",ae="_item_1qwde_136",re="_itemSelected_1qwde_154",ce="_itemDisabled_1qwde_158",ie="_itemIcon_1qwde_163",le="_itemContent_1qwde_177",me="_itemLabel_1qwde_185",de="_itemDescription_1qwde_192",pe="_itemShortcut_1qwde_200",ue="_footer_1qwde_215",he="_footerHint_1qwde_224",s={overlay:J,commandBar:Q,inputWrapper:X,searchIcon:Y,input:Z,shortcutHint:ee,results:te,empty:ne,group:se,groupTitle:oe,item:ae,itemSelected:re,itemDisabled:ce,itemIcon:ie,itemContent:le,itemLabel:me,itemDescription:de,itemShortcut:pe,footer:ue,footerHint:he},l=a.forwardRef(({open:c,onOpenChange:o,commands:i,recentCommands:m,onSelect:H,placeholder:B="Type a command or search...",emptyMessage:P="No results found.",footer:N,className:L,...A},F)=>{const[d,q]=a.useState(""),[p,u]=a.useState(0),k=a.useRef(null),D=a.useRef(null),O=a.useMemo(()=>{if(!d)return i;const t=d.toLowerCase();return i.filter(n=>{const r=n.label.toLowerCase().includes(t),f=n.description?.toLowerCase().includes(t),w=n.keywords?.some(R=>R.toLowerCase().includes(t));return r||f||w})},[i,d]),_=a.useMemo(()=>{const t=[],n=[];return O.forEach(r=>{if(r.category){const f=t.find(w=>w.title===r.category);f?f.commands.push(r):t.push({title:r.category,commands:[r]})}else n.push(r)}),n.length>0&&t.unshift({title:"",commands:n}),t},[O]),h=a.useMemo(()=>{const t=[];return m&&m.length>0&&!d&&t.push(...m),_.forEach(n=>{t.push(...n.commands)}),t},[_,m,d]);a.useEffect(()=>{c&&(q(""),u(0),setTimeout(()=>k.current?.focus(),0))},[c]);const K=a.useCallback(t=>{switch(t.key){case"ArrowDown":t.preventDefault(),u(r=>Math.min(r+1,h.length-1));break;case"ArrowUp":t.preventDefault(),u(r=>Math.max(r-1,0));break;case"Enter":t.preventDefault();const n=h[p];n&&!n.disabled&&b(n);break;case"Escape":t.preventDefault(),o(!1);break}},[h,p,o]),b=t=>{H?.(t),t.onSelect(),o(!1)};if(a.useEffect(()=>{const t=D.current;if(!t)return;const n=t.querySelector(`[data-index="${p}"]`);n&&n.scrollIntoView({block:"nearest"})},[p]),a.useEffect(()=>{const t=n=>{(n.metaKey||n.ctrlKey)&&n.key==="k"&&(n.preventDefault(),o(!c))};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[c,o]),!c)return null;const M=[s.commandBar,L].filter(Boolean).join(" ");let I=0;return e.jsx("div",{className:s.overlay,onClick:()=>o(!1),children:e.jsxs("div",{ref:F,className:M,onClick:t=>t.stopPropagation(),onKeyDown:K,...A,children:[e.jsxs("div",{className:s.inputWrapper,children:[e.jsx(T,{size:18,className:s.searchIcon}),e.jsx("input",{ref:k,type:"text",className:s.input,placeholder:B,value:d,onChange:t=>{q(t.target.value),u(0)},autoComplete:"off",autoCorrect:"off",spellCheck:!1}),e.jsx("kbd",{className:s.shortcutHint,children:"ESC"})]}),e.jsx("div",{ref:D,className:s.results,children:h.length===0?e.jsx("div",{className:s.empty,children:P}):e.jsxs(e.Fragment,{children:[m&&m.length>0&&!d&&e.jsxs("div",{className:s.group,children:[e.jsx("div",{className:s.groupTitle,children:"Recent"}),m.map(t=>{const n=I++;return e.jsxs("button",{type:"button","data-index":n,className:`${s.item} ${n===p?s.itemSelected:""} ${t.disabled?s.itemDisabled:""}`,onClick:()=>!t.disabled&&b(t),onMouseEnter:()=>u(n),children:[t.icon&&e.jsx("span",{className:s.itemIcon,children:t.icon}),e.jsxs("span",{className:s.itemContent,children:[e.jsx("span",{className:s.itemLabel,children:t.label}),t.description&&e.jsx("span",{className:s.itemDescription,children:t.description})]}),t.shortcut&&e.jsx("kbd",{className:s.itemShortcut,children:t.shortcut})]},`recent-${t.id}`)})]}),_.map(t=>e.jsxs("div",{className:s.group,children:[t.title&&e.jsx("div",{className:s.groupTitle,children:t.title}),t.commands.map(n=>{const r=I++;return e.jsxs("button",{type:"button","data-index":r,className:`${s.item} ${r===p?s.itemSelected:""} ${n.disabled?s.itemDisabled:""}`,onClick:()=>!n.disabled&&b(n),onMouseEnter:()=>u(r),children:[n.icon&&e.jsx("span",{className:s.itemIcon,children:n.icon}),e.jsxs("span",{className:s.itemContent,children:[e.jsx("span",{className:s.itemLabel,children:n.label}),n.description&&e.jsx("span",{className:s.itemDescription,children:n.description})]}),n.shortcut&&e.jsx("kbd",{className:s.itemShortcut,children:n.shortcut})]},n.id)})]},t.title||"ungrouped"))]})}),N?e.jsx("div",{className:s.footer,children:N}):e.jsxs("div",{className:s.footer,children:[e.jsxs("span",{className:s.footerHint,children:[e.jsx(W,{size:12})," ",e.jsx("span",{children:"K to toggle"})]}),e.jsxs("span",{className:s.footerHint,children:[e.jsx("span",{children:"↑↓"})," to navigate"]}),e.jsxs("span",{className:s.footerHint,children:[e.jsx("span",{children:"↵"})," to select"]})]})]})})});l.displayName="CommandBar";l.__docgenInfo={description:"",methods:[],displayName:"CommandBar",props:{open:{required:!0,tsType:{name:"boolean"},description:"Whether the command bar is open"},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:"Callback when open state changes"},commands:{required:!0,tsType:{name:"Array",elements:[{name:"CommandItem"}],raw:"CommandItem[]"},description:"Flat list of commands (will be grouped by category if specified)"},recentCommands:{required:!1,tsType:{name:"Array",elements:[{name:"CommandItem"}],raw:"CommandItem[]"},description:"Recent commands to show at the top"},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(command: CommandItem) => void",signature:{arguments:[{type:{name:"CommandItem"},name:"command"}],return:{name:"void"}}},description:"Callback when a command is selected"},placeholder:{required:!1,tsType:{name:"string"},description:`Placeholder text for search input
@default "Type a command or search..."`,defaultValue:{value:"'Type a command or search...'",computed:!1}},emptyMessage:{required:!1,tsType:{name:"string"},description:`Empty state message when no results
@default "No results found."`,defaultValue:{value:"'No results found.'",computed:!1}},footer:{required:!1,tsType:{name:"ReactNode"},description:"Custom footer content"}},composes:["Omit"]};const ke={title:"Sections/App/CommandBar",component:l,parameters:{layout:"fullscreen",docs:{description:{component:"A command palette (Cmd+K) for quick navigation and actions. Optimized for Product Mode with keyboard-first interaction."}}},tags:["autodocs"]},S=[{id:"home",label:"Go to Home",icon:e.jsx(z,{size:18}),shortcut:"⌘H",category:"Navigation",onSelect:()=>console.log("Home")},{id:"projects",label:"Go to Projects",icon:e.jsx(E,{size:18}),category:"Navigation",onSelect:()=>console.log("Projects")},{id:"team",label:"Go to Team",icon:e.jsx($,{size:18}),category:"Navigation",onSelect:()=>console.log("Team")},{id:"settings",label:"Open Settings",icon:e.jsx(v,{size:18}),shortcut:"⌘,",category:"Navigation",onSelect:()=>console.log("Settings")},{id:"new-doc",label:"Create New Document",icon:e.jsx(G,{size:18}),shortcut:"⌘N",category:"Actions",onSelect:()=>console.log("New Doc")},{id:"new-project",label:"Create New Project",icon:e.jsx(U,{size:18}),category:"Actions",onSelect:()=>console.log("New Project")},{id:"export",label:"Export Data",icon:e.jsx(V,{size:18}),category:"Actions",onSelect:()=>console.log("Export")},{id:"search",label:"Search Everything",icon:e.jsx(T,{size:18}),shortcut:"⌘K",category:"Tools",onSelect:()=>console.log("Search")}],fe=()=>{const[c,o]=a.useState(!0);return e.jsxs("div",{style:{padding:"var(--spacing-5)"},children:[e.jsxs("p",{style:{marginBottom:"var(--spacing-5)"},children:["Press ",e.jsx("kbd",{children:"⌘K"})," or ",e.jsx("kbd",{children:"Ctrl+K"})," to open"]}),e.jsx("button",{onClick:()=>o(!0),children:"Open Command Bar"}),e.jsx(l,{open:c,onOpenChange:o,commands:S,onSelect:i=>console.log("Selected:",i)})]})},g={render:()=>e.jsx(fe,{})},x={render:()=>{const[c,o]=a.useState(!0),i=[{id:"projects",label:"Go to Projects",icon:e.jsx(E,{size:18}),onSelect:()=>{}},{id:"settings",label:"Open Settings",icon:e.jsx(v,{size:18}),onSelect:()=>{}}];return e.jsx(l,{open:c,onOpenChange:o,commands:S,recentCommands:i})}},j={render:()=>{const[c,o]=a.useState(!0);return e.jsx(l,{open:c,onOpenChange:o,commands:S,placeholder:"What would you like to do?",emptyMessage:"No matching commands found."})}},y={render:()=>{const[c,o]=a.useState(!0);return e.jsx(l,{open:c,onOpenChange:o,commands:S,footer:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx("span",{children:"Acme Inc Command Palette"}),e.jsx("span",{children:"v1.0.0"})]})})}},C={render:()=>{const[c,o]=a.useState(!0),i=[{id:"home",label:"Home",icon:e.jsx(z,{size:18}),onSelect:()=>{}},{id:"settings",label:"Settings",icon:e.jsx(v,{size:18}),onSelect:()=>{}}];return e.jsx(l,{open:c,onOpenChange:o,commands:i})}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  render: () => <InteractiveCommandBar />
}`,...g.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [open, setOpen] = useState(true);
    const recentCommands = [{
      id: 'projects',
      label: 'Go to Projects',
      icon: <Folder size={18} />,
      onSelect: () => {}
    }, {
      id: 'settings',
      label: 'Open Settings',
      icon: <Settings size={18} />,
      onSelect: () => {}
    }];
    return <CommandBar open={open} onOpenChange={setOpen} commands={sampleCommands} recentCommands={recentCommands} />;
  }
}`,...x.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [open, setOpen] = useState(true);
    return <CommandBar open={open} onOpenChange={setOpen} commands={sampleCommands} placeholder="What would you like to do?" emptyMessage="No matching commands found." />;
  }
}`,...j.parameters?.docs?.source}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [open, setOpen] = useState(true);
    return <CommandBar open={open} onOpenChange={setOpen} commands={sampleCommands} footer={<div style={{
      display: 'flex',
      justifyContent: 'space-between',
      width: '100%'
    }}>
            <span>Acme Inc Command Palette</span>
            <span>v1.0.0</span>
          </div>} />;
  }
}`,...y.parameters?.docs?.source}}};C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [open, setOpen] = useState(true);
    const commands = [{
      id: 'home',
      label: 'Home',
      icon: <Home size={18} />,
      onSelect: () => {}
    }, {
      id: 'settings',
      label: 'Settings',
      icon: <Settings size={18} />,
      onSelect: () => {}
    }];
    return <CommandBar open={open} onOpenChange={setOpen} commands={commands} />;
  }
}`,...C.parameters?.docs?.source}}};const De=["Default","WithRecentCommands","CustomPlaceholder","WithCustomFooter","FewCommands"];export{j as CustomPlaceholder,g as Default,C as FewCommands,y as WithCustomFooter,x as WithRecentCommands,De as __namedExportsOrder,ke as default};
