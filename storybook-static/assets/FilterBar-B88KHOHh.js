import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as c}from"./index-Bi6L2ga8.js";import{S as A}from"./search-BC3UyaPv.js";import{C as F}from"./calendar-BjEn5mzX.js";import{F as I}from"./funnel-BrGssVc5.js";import{C as S}from"./chevron-down-buXKF-gJ.js";import{X as T}from"./x-Dd336Dmd.js";const q="_filterBar_1ljia_8",R="_compact_1ljia_19",V="_searchWrapper_1ljia_28",B="_searchIcon_1ljia_34",O="_searchInput_1ljia_41",W="_filters_1ljia_68",L="_filterWrapper_1ljia_74",$="_filterTrigger_1ljia_78",E="_filterActive_1ljia_99",z="_chevron_1ljia_105",D="_chevronOpen_1ljia_109",H="_dropdown_1ljia_117",M="_dropdownItem_1ljia_132",P="_dropdownItemSelected_1ljia_153",X="_checkbox_1ljia_158",G="_optionCount_1ljia_176",J="_dropdownFooter_1ljia_182",K="_dropdownCancel_1ljia_191",Q="_dropdownApply_1ljia_192",U="_activeFilters_1ljia_226",Y="_chip_1ljia_236",Z="_chipLabel_1ljia_249",ee="_chipRemove_1ljia_256",te="_clearAll_1ljia_275",ne="_count_1ljia_295",t={filterBar:q,compact:R,searchWrapper:V,searchIcon:B,searchInput:O,filters:W,filterWrapper:L,filterTrigger:$,filterActive:E,chevron:z,chevronOpen:D,dropdown:H,dropdownItem:M,dropdownItemSelected:P,checkbox:X,optionCount:G,dropdownFooter:J,dropdownCancel:K,dropdownApply:Q,activeFilters:U,chip:Y,chipLabel:Z,chipRemove:ee,clearAll:te,count:ne},re=({filter:l,onSelect:a,onClose:i})=>{const[s,d]=c.useState([]),p=r=>{if(l.type==="multi-select"){const m=s.includes(r.value)?s.filter(h=>h!==r.value):[...s,r.value];d(m)}else a(r.value),i()},u=()=>{s.length>0&&a(s),i()};return e.jsxs("div",{className:t.dropdown,children:[l.options?.map(r=>e.jsxs("button",{type:"button",className:`${t.dropdownItem} ${s.includes(r.value)?t.dropdownItemSelected:""}`,onClick:()=>p(r),children:[l.type==="multi-select"&&e.jsx("span",{className:t.checkbox,children:s.includes(r.value)&&"âœ“"}),e.jsx("span",{children:r.label}),r.count!==void 0&&e.jsx("span",{className:t.optionCount,children:r.count})]},r.value)),l.type==="multi-select"&&e.jsxs("div",{className:t.dropdownFooter,children:[e.jsx("button",{type:"button",className:t.dropdownCancel,onClick:i,children:"Cancel"}),e.jsx("button",{type:"button",className:t.dropdownApply,onClick:u,children:"Apply"})]})]})},y=c.forwardRef(({filters:l,activeFilters:a,onFilterChange:i,onFilterRemove:s,onClearAll:d,searchable:p=!1,searchValue:u="",onSearchChange:r,searchPlaceholder:m="Search...",showCount:h=!0,compact:j=!1,className:w,...x},b)=>{const[C,_]=c.useState(null),f=c.useRef(null);c.useEffect(()=>{const n=o=>{f.current&&!f.current.contains(o.target)&&_(null)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const k=(n,o)=>{i(n,o)},N=[t.filterBar,j&&t.compact,w].filter(Boolean).join(" ");return e.jsxs("div",{ref:b,className:N,...x,children:[p&&e.jsxs("div",{className:t.searchWrapper,children:[e.jsx(A,{size:16,className:t.searchIcon}),e.jsx("input",{type:"text",className:t.searchInput,placeholder:m,value:u,onChange:n=>r?.(n.target.value)})]}),e.jsx("div",{className:t.filters,ref:f,children:l.map(n=>{const o=a.some(g=>g.key===n.key),v=C===n.key;return e.jsxs("div",{className:t.filterWrapper,children:[e.jsxs("button",{type:"button",className:`${t.filterTrigger} ${o?t.filterActive:""}`,onClick:()=>_(v?null:n.key),children:[n.icon||(n.type.includes("date")?e.jsx(F,{size:14}):e.jsx(I,{size:14})),e.jsx("span",{children:n.label}),e.jsx(S,{size:14,className:`${t.chevron} ${v?t.chevronOpen:""}`})]}),v&&n.type!=="text"&&e.jsx(re,{filter:n,onSelect:g=>k(n.key,g),onClose:()=>_(null)})]},n.key)})}),a.length>0&&e.jsxs("div",{className:t.activeFilters,children:[a.map(n=>e.jsxs("span",{className:t.chip,children:[e.jsx("span",{className:t.chipLabel,children:n.label}),e.jsx("button",{type:"button",className:t.chipRemove,onClick:()=>s(n.key),"aria-label":`Remove ${n.label} filter`,children:e.jsx(T,{size:12})})]},n.key)),d&&a.length>1&&e.jsx("button",{type:"button",className:t.clearAll,onClick:d,children:"Clear all"})]}),h&&a.length>0&&e.jsxs("span",{className:t.count,children:[a.length," filter",a.length!==1?"s":""," active"]})]})});y.displayName="FilterBar";y.__docgenInfo={description:"",methods:[],displayName:"FilterBar",props:{filters:{required:!0,tsType:{name:"Array",elements:[{name:"FilterDefinition"}],raw:"FilterDefinition[]"},description:"Filter definitions"},activeFilters:{required:!0,tsType:{name:"Array",elements:[{name:"ActiveFilter"}],raw:"ActiveFilter[]"},description:"Currently active filters"},onFilterChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string, value: string | string[] | { start: string; end: string } | null) => void",signature:{arguments:[{type:{name:"string"},name:"key"},{type:{name:"union",raw:"string | string[] | { start: string; end: string } | null",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"signature",type:"object",raw:"{ start: string; end: string }",signature:{properties:[{key:"start",value:{name:"string",required:!0}},{key:"end",value:{name:"string",required:!0}}]}},{name:"null"}]},name:"value"}],return:{name:"void"}}},description:"Filter change handler"},onFilterRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: string) => void",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"void"}}},description:"Remove filter handler"},onClearAll:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Clear all filters handler"},searchable:{required:!1,tsType:{name:"boolean"},description:`Enable search input
@default false`,defaultValue:{value:"false",computed:!1}},searchValue:{required:!1,tsType:{name:"string"},description:"Search value (controlled)",defaultValue:{value:"''",computed:!1}},onSearchChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Search change handler"},searchPlaceholder:{required:!1,tsType:{name:"string"},description:"Search placeholder",defaultValue:{value:"'Search...'",computed:!1}},showCount:{required:!1,tsType:{name:"boolean"},description:`Show filter count
@default true`,defaultValue:{value:"true",computed:!1}},compact:{required:!1,tsType:{name:"boolean"},description:`Compact mode
@default false`,defaultValue:{value:"false",computed:!1}}},composes:["HTMLAttributes"]};export{y as F};
