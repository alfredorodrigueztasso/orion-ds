import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as y}from"./index-Bi6L2ga8.js";import{P as m}from"./plus-_oTOY7dX.js";import{E as q}from"./ellipsis-DlXNEQa3.js";import{C as v}from"./clock-BOaF0ey4.js";import{C as x}from"./circle-alert-BMPEDkj1.js";const j="_kanbanBoard_1qbgu_8",f="_columns_1qbgu_14",N="_column_1qbgu_14",T="_columnHeader_1qbgu_34",D="_columnTitleWrapper_1qbgu_42",w="_columnDot_1qbgu_48",B="_columnTitle_1qbgu_42",k="_columnCount_1qbgu_69",A="_columnCountOver_1qbgu_79",$="_columnActions_1qbgu_84",K="_columnAction_1qbgu_84",I="_columnCards_1qbgu_112",M="_emptyColumn_1qbgu_121",z="_card_1qbgu_133",E="_cardCompact_1qbgu_160",H="_cardContent_1qbgu_160",O="_cardCover_1qbgu_164",F="_labels_1qbgu_184",R="_label_1qbgu_184",W="_cardTitle_1qbgu_210",P="_priority_1qbgu_221",V="_cardDescription_1qbgu_231",L="_cardFooter_1qbgu_244",S="_dueDate_1qbgu_252",G="_assignees_1qbgu_262",J="_assignee_1qbgu_262",Q="_assigneeMore_1qbgu_295",U="_addCardButton_1qbgu_315",X="_addColumnButton_1qbgu_340",a={kanbanBoard:j,columns:f,column:N,columnHeader:T,columnTitleWrapper:D,columnDot:w,"dot-blue":"_dot-blue_1qbgu_55","dot-green":"_dot-green_1qbgu_56","dot-yellow":"_dot-yellow_1qbgu_57","dot-red":"_dot-red_1qbgu_58","dot-purple":"_dot-purple_1qbgu_59",columnTitle:B,columnCount:k,columnCountOver:A,columnActions:$,columnAction:K,columnCards:I,emptyColumn:M,card:z,cardCompact:E,cardContent:H,cardCover:O,labels:F,label:R,"label-red":"_label-red_1qbgu_200","label-orange":"_label-orange_1qbgu_201","label-yellow":"_label-yellow_1qbgu_202","label-green":"_label-green_1qbgu_203","label-blue":"_label-blue_1qbgu_204","label-purple":"_label-purple_1qbgu_205","label-pink":"_label-pink_1qbgu_206","label-gray":"_label-gray_1qbgu_207",cardTitle:W,priority:P,"priority-medium":"_priority-medium_1qbgu_226","priority-high":"_priority-high_1qbgu_227","priority-urgent":"_priority-urgent_1qbgu_228",cardDescription:V,cardFooter:L,dueDate:S,assignees:G,assignee:J,assigneeMore:Q,addCardButton:U,addColumnButton:X},Y=({priority:n})=>!n||n==="low"?null:e.jsx("span",{className:`${a.priority} ${a[`priority-${n}`]}`,children:e.jsx(x,{size:12})}),Z=({card:n,compact:t,onClick:r,draggable:l})=>e.jsxs("div",{className:`${a.card} ${t?a.cardCompact:""}`,onClick:r,draggable:l,role:"button",tabIndex:0,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),r?.())},children:[n.coverImage&&!t&&e.jsx("div",{className:a.cardCover,children:e.jsx("img",{src:n.coverImage,alt:""})}),e.jsxs("div",{className:a.cardContent,children:[n.labels&&n.labels.length>0&&!t&&e.jsx("div",{className:a.labels,children:n.labels.map(s=>e.jsx("span",{className:`${a.label} ${a[`label-${s.color}`]}`,children:s.text},s.id))}),e.jsxs("div",{className:a.cardTitle,children:[e.jsx(Y,{priority:n.priority}),e.jsx("span",{children:n.title})]}),n.description&&!t&&e.jsx("p",{className:a.cardDescription,children:n.description}),(n.dueDate||n.assignees&&n.assignees.length>0)&&e.jsxs("div",{className:a.cardFooter,children:[n.dueDate&&e.jsxs("span",{className:a.dueDate,children:[e.jsx(v,{size:12}),e.jsx("span",{children:n.dueDate})]}),n.assignees&&n.assignees.length>0&&e.jsxs("div",{className:a.assignees,children:[n.assignees.slice(0,3).map(s=>e.jsx("div",{className:a.assignee,title:s.name,children:s.avatar?e.jsx("img",{src:s.avatar,alt:s.name}):e.jsx("span",{children:s.name.charAt(0)})},s.id)),n.assignees.length>3&&e.jsxs("div",{className:a.assigneeMore,children:["+",n.assignees.length-3]})]})]})]})]}),ee=({column:n,compact:t,showCardCount:r,draggable:l,onCardClick:s,onAddCard:o,onColumnMenu:u})=>{const c=n.limit&&n.cards.length>n.limit;return e.jsxs("div",{className:a.column,children:[e.jsxs("div",{className:a.columnHeader,children:[e.jsxs("div",{className:a.columnTitleWrapper,children:[n.color&&n.color!=="default"&&e.jsx("span",{className:`${a.columnDot} ${a[`dot-${n.color}`]}`}),e.jsx("h3",{className:a.columnTitle,children:n.title}),r&&e.jsxs("span",{className:`${a.columnCount} ${c?a.columnCountOver:""}`,children:[n.cards.length,n.limit&&`/${n.limit}`]})]}),e.jsxs("div",{className:a.columnActions,children:[o&&e.jsx("button",{type:"button",className:a.columnAction,onClick:o,"aria-label":"Add card",children:e.jsx(m,{size:16})}),u&&e.jsx("button",{type:"button",className:a.columnAction,onClick:u,"aria-label":"Column menu",children:e.jsx(q,{size:16})})]})]}),e.jsxs("div",{className:a.columnCards,children:[n.cards.map(i=>e.jsx(Z,{card:i,compact:t,draggable:l,onClick:()=>s?.(i)},i.id)),n.cards.length===0&&e.jsx("div",{className:a.emptyColumn,children:"No cards yet"})]}),o&&e.jsxs("button",{type:"button",className:a.addCardButton,onClick:o,children:[e.jsx(m,{size:16}),e.jsx("span",{children:"Add card"})]})]})},_=y.forwardRef(({columns:n,onCardMove:t,onCardClick:r,onAddCard:l,onAddColumn:s,onColumnMenu:o,compact:u=!1,showCardCount:c=!0,draggable:i=!0,className:p,...b},g)=>{const C=[a.kanbanBoard,p].filter(Boolean).join(" ");return e.jsx("div",{ref:g,className:C,...b,children:e.jsxs("div",{className:a.columns,children:[n.map(d=>e.jsx(ee,{column:d,compact:u,showCardCount:c,draggable:i,onCardClick:h=>r?.(h,d.id),onAddCard:l?()=>l(d.id):void 0,onColumnMenu:o?()=>o(d.id):void 0},d.id)),s&&e.jsxs("button",{type:"button",className:a.addColumnButton,onClick:s,children:[e.jsx(m,{size:20}),e.jsx("span",{children:"Add column"})]})]})})});_.displayName="KanbanBoard";_.__docgenInfo={description:"",methods:[],displayName:"KanbanBoard",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"KanbanColumn"}],raw:"KanbanColumn[]"},description:"Board columns"},onCardMove:{required:!1,tsType:{name:"signature",type:"function",raw:"(result: KanbanDragResult) => void",signature:{arguments:[{type:{name:"KanbanDragResult"},name:"result"}],return:{name:"void"}}},description:"Card move handler"},onCardClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(card: KanbanCard, columnId: string) => void",signature:{arguments:[{type:{name:"KanbanCard"},name:"card"},{type:{name:"string"},name:"columnId"}],return:{name:"void"}}},description:"Card click handler"},onAddCard:{required:!1,tsType:{name:"signature",type:"function",raw:"(columnId: string) => void",signature:{arguments:[{type:{name:"string"},name:"columnId"}],return:{name:"void"}}},description:"Add card handler (shows add button if provided)"},onAddColumn:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Add column handler (shows add column button if provided)"},onColumnMenu:{required:!1,tsType:{name:"signature",type:"function",raw:"(columnId: string) => void",signature:{arguments:[{type:{name:"string"},name:"columnId"}],return:{name:"void"}}},description:"Column menu handler"},compact:{required:!1,tsType:{name:"boolean"},description:`Compact card display
@default false`,defaultValue:{value:"false",computed:!1}},showCardCount:{required:!1,tsType:{name:"boolean"},description:`Show card count in column headers
@default true`,defaultValue:{value:"true",computed:!1}},draggable:{required:!1,tsType:{name:"boolean"},description:`Enable drag and drop (visual only - actual DnD needs external library)
@default true`,defaultValue:{value:"true",computed:!1}}},composes:["HTMLAttributes"]};export{_ as K};
